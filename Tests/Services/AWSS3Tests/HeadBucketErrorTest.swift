// Code generated by smithy-swift-codegen. DO NOT EDIT!

@testable import AWSS3
import ClientRuntime
import SmithyTestUtil
import XCTest


class HeadBucketNotFoundTest: HttpResponseTestBase {
    /// This test case validates https://github.com/awslabs/aws-sdk-swift/issues/183
    func testHeadObjectEmptyBody() async throws {
        do {
            guard let httpResponse = buildHttpResponse(
                code: 404,
                headers: [
                    "content-type": "application/xml",
                    "date": "Thu, 03 Jun 2021 04:05:52 GMT",
                    "server": "AmazonS3",
                    "x-amz-id-2": "UTniwu6QmCIjVeuK2ZfeWBOnu7SqMQOS3Vac6B/K4H2ZCawYUl+nDbhGTImuyhZ5DFiojR3Kcz4=",
                    "x-amz-request-id": "GRZ6BZ468DF52F2E"
                ],
                content: HttpBody.empty
            ) else {
                XCTFail("Something is wrong with the created http response")
                return
            }

            let headBucketOutputError = try HeadBucketOutputError(httpResponse: httpResponse)

            if case .notFound(let actual) = headBucketOutputError {

                let expected = NotFound(
                )
                XCTAssertEqual(actual._statusCode, HttpStatusCode(rawValue: 404))
            } else {
                XCTFail("The deserialized error type does not match expected type")
            }

        } catch let err {
            XCTFail(err.localizedDescription)
        }
    }
}
