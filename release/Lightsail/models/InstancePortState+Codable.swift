// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension InstancePortState: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case cidrListAliases
        case cidrs
        case fromPort
        case ipv6Cidrs
        case `protocol` = "protocol"
        case state
        case toPort
    }

    public func encode(to encoder: Encoder) throws {
        var encodeContainer = encoder.container(keyedBy: CodingKeys.self)
        if let cidrListAliases = cidrListAliases {
            var cidrListAliasesContainer = encodeContainer.nestedUnkeyedContainer(forKey: .cidrListAliases)
            for stringlist0 in cidrListAliases {
                try cidrListAliasesContainer.encode(stringlist0)
            }
        }
        if let cidrs = cidrs {
            var cidrsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .cidrs)
            for stringlist0 in cidrs {
                try cidrsContainer.encode(stringlist0)
            }
        }
        if fromPort != 0 {
            try encodeContainer.encode(fromPort, forKey: .fromPort)
        }
        if let ipv6Cidrs = ipv6Cidrs {
            var ipv6CidrsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .ipv6Cidrs)
            for stringlist0 in ipv6Cidrs {
                try ipv6CidrsContainer.encode(stringlist0)
            }
        }
        if let `protocol` = `protocol` {
            try encodeContainer.encode(`protocol`.rawValue, forKey: .`protocol`)
        }
        if let state = state {
            try encodeContainer.encode(state.rawValue, forKey: .state)
        }
        if toPort != 0 {
            try encodeContainer.encode(toPort, forKey: .toPort)
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let fromPortDecoded = try containerValues.decode(Int.self, forKey: .fromPort)
        fromPort = fromPortDecoded
        let toPortDecoded = try containerValues.decode(Int.self, forKey: .toPort)
        toPort = toPortDecoded
        let protocolDecoded = try containerValues.decodeIfPresent(NetworkProtocol.self, forKey: .protocol)
        `protocol` = protocolDecoded
        let stateDecoded = try containerValues.decodeIfPresent(PortState.self, forKey: .state)
        state = stateDecoded
        let cidrsContainer = try containerValues.decodeIfPresent([String].self, forKey: .cidrs)
        var cidrsDecoded0:[String]? = nil
        if let cidrsContainer = cidrsContainer {
            cidrsDecoded0 = [String]()
            for string0 in cidrsContainer {
                cidrsDecoded0?.append(string0)
            }
        }
        cidrs = cidrsDecoded0
        let ipv6CidrsContainer = try containerValues.decodeIfPresent([String].self, forKey: .ipv6Cidrs)
        var ipv6CidrsDecoded0:[String]? = nil
        if let ipv6CidrsContainer = ipv6CidrsContainer {
            ipv6CidrsDecoded0 = [String]()
            for string0 in ipv6CidrsContainer {
                ipv6CidrsDecoded0?.append(string0)
            }
        }
        ipv6Cidrs = ipv6CidrsDecoded0
        let cidrListAliasesContainer = try containerValues.decodeIfPresent([String].self, forKey: .cidrListAliases)
        var cidrListAliasesDecoded0:[String]? = nil
        if let cidrListAliasesContainer = cidrListAliasesContainer {
            cidrListAliasesDecoded0 = [String]()
            for string0 in cidrListAliasesContainer {
                cidrListAliasesDecoded0?.append(string0)
            }
        }
        cidrListAliases = cidrListAliasesDecoded0
    }
}
