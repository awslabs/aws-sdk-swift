// Code generated by smithy-swift-codegen. DO NOT EDIT!



/// <p>The data repository configuration object for Lustre file systems returned in the response of
///             the <code>CreateFileSystem</code> operation.</p>
public struct DataRepositoryConfiguration: Equatable {
    /// <p>Describes the file system's linked S3 data repository's <code>AutoImportPolicy</code>.
    ///             The AutoImportPolicy configures how Amazon FSx keeps your file and directory listings up to date
    ///             as you add or modify objects in your linked S3 bucket. <code>AutoImportPolicy</code> can have the following values:</p>
    ///         <ul>
    ///             <li>
    ///                <p>
    ///                   <code>NONE</code> - (Default) AutoImport is off. Amazon FSx only updates
    ///                 file and directory listings from the linked S3 bucket
    ///                 when the file system is created. FSx does not update file and directory
    ///                 listings for any new or changed objects after choosing this option.</p>
    ///             </li>
    ///             <li>
    ///                <p>
    ///                   <code>NEW</code> - AutoImport is on. Amazon FSx automatically imports
    ///                 directory listings of any new objects added to the linked S3 bucket that
    ///                 do not currently exist in the FSx file system. </p>
    ///             </li>
    ///             <li>
    ///                <p>
    ///                   <code>NEW_CHANGED</code> - AutoImport is on. Amazon FSx automatically imports
    ///                 file and directory listings of any new objects added to the S3 bucket and any
    ///                 existing objects that are changed in the S3 bucket after you choose this option.
    ///             </p>
    ///             </li>
    ///          </ul>
    ///         <p>For more information, see <a href="https://docs.aws.amazon.com/fsx/latest/LustreGuide/autoimport-data-repo.html">Automatically import updates from your S3 bucket</a>.</p>
    public let autoImportPolicy: AutoImportPolicyType?
    /// <p>The export path to the Amazon S3 bucket (and prefix) that you are using to store new and
    ///             changed Lustre file system files in S3.</p>
    public let exportPath: String?
    /// <p>Provides detailed information about the data respository if its <code>Lifecycle</code> is
    ///             set to <code>MISCONFIGURED</code>.</p>
    public let failureDetails: DataRepositoryFailureDetails?
    /// <p>The import path to the Amazon S3 bucket (and optional prefix) that you're using
    ///             as the data repository for your FSx for Lustre file system, for example
    ///                 <code>s3://import-bucket/optional-prefix</code>. If a prefix is specified after the
    ///             Amazon S3 bucket name, only object keys with that prefix are loaded into the file
    ///             system.</p>
    public let importPath: String?
    /// <p>For files imported from a data repository, this value determines the stripe count and
    ///             maximum amount of data per file (in MiB) stored on a single physical disk. The maximum
    ///             number of disks that a single file can be striped across is limited by the total number
    ///             of disks that make up the file system.</p>
    ///
    ///         <p>The default chunk size is 1,024 MiB (1 GiB) and can go as high as 512,000 MiB (500
    ///             GiB). Amazon S3 objects have a maximum size of 5 TB.</p>
    public let importedFileChunkSize: Int?
    /// <p>Describes the state of the file system's S3 durable data repository, if it is configured with an S3 repository.
    ///         The lifecycle can have the following values:</p>
    ///         <ul>
    ///             <li>
    ///                <p>
    ///                   <code>CREATING</code> - The data repository configuration between
    ///                 the FSx file system and the linked S3 data repository is being created.
    ///                 The data repository is unavailable.</p>
    ///             </li>
    ///             <li>
    ///                <p>
    ///                   <code>AVAILABLE</code> - The data repository is available for use.</p>
    ///             </li>
    ///             <li>
    ///                <p>
    ///                   <code>MISCONFIGURED</code> - Amazon FSx cannot automatically import updates from the S3 bucket
    ///                 until the data repository configuration is corrected. For more information, see
    ///                 <a href="https://docs.aws.amazon.com/fsx/latest/LustreGuide/troubleshooting.html#troubleshooting-misconfigured-data-repository">Troubleshooting a Misconfigured linked S3 bucket</a>.
    ///                 </p>
    ///             </li>
    ///             <li>
    ///                <p>
    ///                   <code>UPDATING</code> - The data repository is undergoing a customer initiated update and availability may be impacted.</p>
    ///             </li>
    ///          </ul>
    public let lifecycle: DataRepositoryLifecycle?

    public init (
        autoImportPolicy: AutoImportPolicyType? = nil,
        exportPath: String? = nil,
        failureDetails: DataRepositoryFailureDetails? = nil,
        importPath: String? = nil,
        importedFileChunkSize: Int? = nil,
        lifecycle: DataRepositoryLifecycle? = nil
    )
    {
        self.autoImportPolicy = autoImportPolicy
        self.exportPath = exportPath
        self.failureDetails = failureDetails
        self.importPath = importPath
        self.importedFileChunkSize = importedFileChunkSize
        self.lifecycle = lifecycle
    }
}
