// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension OTAUpdateInfo: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case additionalParameters
        case awsIotJobArn
        case awsIotJobId
        case awsJobExecutionsRolloutConfig
        case awsJobPresignedUrlConfig
        case creationDate
        case description
        case errorInfo
        case lastModifiedDate
        case otaUpdateArn
        case otaUpdateFiles
        case otaUpdateId
        case otaUpdateStatus
        case protocols
        case targetSelection
        case targets
    }

    public func encode(to encoder: Encoder) throws {
        var encodeContainer = encoder.container(keyedBy: CodingKeys.self)
        if let additionalParameters = additionalParameters {
            var additionalParametersContainer = encodeContainer.nestedContainer(keyedBy: Key.self, forKey: .additionalParameters)
            for (dictKey0, additionalparametermap0) in additionalParameters {
                try additionalParametersContainer.encode(additionalparametermap0, forKey: Key(stringValue: dictKey0))
            }
        }
        if let awsIotJobArn = awsIotJobArn {
            try encodeContainer.encode(awsIotJobArn, forKey: .awsIotJobArn)
        }
        if let awsIotJobId = awsIotJobId {
            try encodeContainer.encode(awsIotJobId, forKey: .awsIotJobId)
        }
        if let awsJobExecutionsRolloutConfig = awsJobExecutionsRolloutConfig {
            try encodeContainer.encode(awsJobExecutionsRolloutConfig, forKey: .awsJobExecutionsRolloutConfig)
        }
        if let awsJobPresignedUrlConfig = awsJobPresignedUrlConfig {
            try encodeContainer.encode(awsJobPresignedUrlConfig, forKey: .awsJobPresignedUrlConfig)
        }
        if let creationDate = creationDate {
            try encodeContainer.encode(creationDate.timeIntervalSince1970, forKey: .creationDate)
        }
        if let description = description {
            try encodeContainer.encode(description, forKey: .description)
        }
        if let errorInfo = errorInfo {
            try encodeContainer.encode(errorInfo, forKey: .errorInfo)
        }
        if let lastModifiedDate = lastModifiedDate {
            try encodeContainer.encode(lastModifiedDate.timeIntervalSince1970, forKey: .lastModifiedDate)
        }
        if let otaUpdateArn = otaUpdateArn {
            try encodeContainer.encode(otaUpdateArn, forKey: .otaUpdateArn)
        }
        if let otaUpdateFiles = otaUpdateFiles {
            var otaUpdateFilesContainer = encodeContainer.nestedUnkeyedContainer(forKey: .otaUpdateFiles)
            for otaupdatefiles0 in otaUpdateFiles {
                try otaUpdateFilesContainer.encode(otaupdatefiles0)
            }
        }
        if let otaUpdateId = otaUpdateId {
            try encodeContainer.encode(otaUpdateId, forKey: .otaUpdateId)
        }
        if let otaUpdateStatus = otaUpdateStatus {
            try encodeContainer.encode(otaUpdateStatus.rawValue, forKey: .otaUpdateStatus)
        }
        if let protocols = protocols {
            var protocolsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .protocols)
            for protocols0 in protocols {
                try protocolsContainer.encode(protocols0.rawValue)
            }
        }
        if let targetSelection = targetSelection {
            try encodeContainer.encode(targetSelection.rawValue, forKey: .targetSelection)
        }
        if let targets = targets {
            var targetsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .targets)
            for targets0 in targets {
                try targetsContainer.encode(targets0)
            }
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let otaUpdateIdDecoded = try containerValues.decodeIfPresent(String.self, forKey: .otaUpdateId)
        otaUpdateId = otaUpdateIdDecoded
        let otaUpdateArnDecoded = try containerValues.decodeIfPresent(String.self, forKey: .otaUpdateArn)
        otaUpdateArn = otaUpdateArnDecoded
        let creationDateDecoded = try containerValues.decodeIfPresent(Date.self, forKey: .creationDate)
        creationDate = creationDateDecoded
        let lastModifiedDateDecoded = try containerValues.decodeIfPresent(Date.self, forKey: .lastModifiedDate)
        lastModifiedDate = lastModifiedDateDecoded
        let descriptionDecoded = try containerValues.decodeIfPresent(String.self, forKey: .description)
        description = descriptionDecoded
        let targetsContainer = try containerValues.decodeIfPresent([String?].self, forKey: .targets)
        var targetsDecoded0:[String]? = nil
        if let targetsContainer = targetsContainer {
            targetsDecoded0 = [String]()
            for string0 in targetsContainer {
                if let string0 = string0 {
                    targetsDecoded0?.append(string0)
                }
            }
        }
        targets = targetsDecoded0
        let protocolsContainer = try containerValues.decodeIfPresent([`Protocol`?].self, forKey: .protocols)
        var protocolsDecoded0:[`Protocol`]? = nil
        if let protocolsContainer = protocolsContainer {
            protocolsDecoded0 = [`Protocol`]()
            for string0 in protocolsContainer {
                if let string0 = string0 {
                    protocolsDecoded0?.append(string0)
                }
            }
        }
        protocols = protocolsDecoded0
        let awsJobExecutionsRolloutConfigDecoded = try containerValues.decodeIfPresent(AwsJobExecutionsRolloutConfig.self, forKey: .awsJobExecutionsRolloutConfig)
        awsJobExecutionsRolloutConfig = awsJobExecutionsRolloutConfigDecoded
        let awsJobPresignedUrlConfigDecoded = try containerValues.decodeIfPresent(AwsJobPresignedUrlConfig.self, forKey: .awsJobPresignedUrlConfig)
        awsJobPresignedUrlConfig = awsJobPresignedUrlConfigDecoded
        let targetSelectionDecoded = try containerValues.decodeIfPresent(TargetSelection.self, forKey: .targetSelection)
        targetSelection = targetSelectionDecoded
        let otaUpdateFilesContainer = try containerValues.decodeIfPresent([OTAUpdateFile?].self, forKey: .otaUpdateFiles)
        var otaUpdateFilesDecoded0:[OTAUpdateFile]? = nil
        if let otaUpdateFilesContainer = otaUpdateFilesContainer {
            otaUpdateFilesDecoded0 = [OTAUpdateFile]()
            for structure0 in otaUpdateFilesContainer {
                if let structure0 = structure0 {
                    otaUpdateFilesDecoded0?.append(structure0)
                }
            }
        }
        otaUpdateFiles = otaUpdateFilesDecoded0
        let otaUpdateStatusDecoded = try containerValues.decodeIfPresent(OTAUpdateStatus.self, forKey: .otaUpdateStatus)
        otaUpdateStatus = otaUpdateStatusDecoded
        let awsIotJobIdDecoded = try containerValues.decodeIfPresent(String.self, forKey: .awsIotJobId)
        awsIotJobId = awsIotJobIdDecoded
        let awsIotJobArnDecoded = try containerValues.decodeIfPresent(String.self, forKey: .awsIotJobArn)
        awsIotJobArn = awsIotJobArnDecoded
        let errorInfoDecoded = try containerValues.decodeIfPresent(ErrorInfo.self, forKey: .errorInfo)
        errorInfo = errorInfoDecoded
        let additionalParametersContainer = try containerValues.decodeIfPresent([String: String?].self, forKey: .additionalParameters)
        var additionalParametersDecoded0: [String:String]? = nil
        if let additionalParametersContainer = additionalParametersContainer {
            additionalParametersDecoded0 = [String:String]()
            for (key0, value0) in additionalParametersContainer {
                if let value0 = value0 {
                    additionalParametersDecoded0?[key0] = value0
                }
            }
        }
        additionalParameters = additionalParametersDecoded0
    }
}
