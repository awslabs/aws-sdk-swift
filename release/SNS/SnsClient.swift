// Code generated by smithy-swift-codegen. DO NOT EDIT!

import AWSClientRuntime
import ClientRuntime
import Foundation

public class SnsClient {
    let client: SdkHttpClient
    let config: SnsClientConfiguration
    let serviceName = "SNS"
    let encoder: RequestEncoder
    let decoder: ResponseDecoder

    public init(config: SnsClientConfiguration) {
        client = SdkHttpClient(engine: config.httpClientEngine, config: config.httpClientConfiguration)
        let encoder = FormURLEncoder()
        self.encoder = config.encoder ?? encoder
        let decoder = XMLDecoder()
        self.decoder = config.decoder ?? decoder
        self.config = config
    }

    public class SnsClientConfiguration: ClientRuntime.Configuration, AWSClientConfiguration {

        public var region: String
        public var credentialsProvider: AWSCredentialsProvider
        public var signingRegion: String
        public var endpointResolver: EndpointResolver

        public init (
            credentialsProvider: AWSCredentialsProvider,
            endpointResolver: EndpointResolver,
            region: String,
            signingRegion: String
        ) throws
        {
            self.credentialsProvider = credentialsProvider
            self.endpointResolver = endpointResolver
            self.region = region
            self.signingRegion = signingRegion
        }

        public convenience init(credentialsProvider: AWSCredentialsProvider) throws {
            let region = "us-east-1"
            let signingRegion = "us-east-1"
            let endpointResolver = DefaultEndpointResolver()
            try self.init(
                credentialsProvider: credentialsProvider,
                endpointResolver: endpointResolver,
                region: region,
                signingRegion: signingRegion
            )
        }

        public static func `default`() throws -> SnsClientConfiguration {
            let awsCredsProvider = try AWSCredentialsProvider.fromEnv()
            return try SnsClientConfiguration(credentialsProvider: awsCredsProvider)
        }
    }
}

extension SnsClient: SnsClientProtocol {
    /// <p>Adds a statement to a topic's access control policy, granting access for the specified
    ///             AWS accounts to the specified actions.</p>
    public func addPermission(input: AddPermissionInput, completion: @escaping (SdkResult<AddPermissionOutput, AddPermissionOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "addPermission")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<AddPermissionInput, AddPermissionOutput, AddPermissionOutputError>(id: "addPermission")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: AddPermissionInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: AddPermissionInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<AddPermissionInput, AddPermissionOutput, AddPermissionOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: AddPermissionInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Accepts a phone number and indicates whether the phone holder has opted out of
    ///             receiving SMS messages from your account. You cannot send SMS messages to a number that
    ///             is opted out.</p>
    ///         <p>To resume sending messages, you can opt in the number by using the
    ///                 <code>OptInPhoneNumber</code> action.</p>
    public func checkIfPhoneNumberIsOptedOut(input: CheckIfPhoneNumberIsOptedOutInput, completion: @escaping (SdkResult<CheckIfPhoneNumberIsOptedOutOutput, CheckIfPhoneNumberIsOptedOutOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "checkIfPhoneNumberIsOptedOut")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<CheckIfPhoneNumberIsOptedOutInput, CheckIfPhoneNumberIsOptedOutOutput, CheckIfPhoneNumberIsOptedOutOutputError>(id: "checkIfPhoneNumberIsOptedOut")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: CheckIfPhoneNumberIsOptedOutInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: CheckIfPhoneNumberIsOptedOutInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<CheckIfPhoneNumberIsOptedOutInput, CheckIfPhoneNumberIsOptedOutOutput, CheckIfPhoneNumberIsOptedOutOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: CheckIfPhoneNumberIsOptedOutInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Verifies an endpoint owner's intent to receive messages by validating the token sent
    ///             to the endpoint by an earlier <code>Subscribe</code> action. If the token is valid, the
    ///             action creates a new subscription and returns its Amazon Resource Name (ARN). This call
    ///             requires an AWS signature only when the <code>AuthenticateOnUnsubscribe</code> flag is
    ///             set to "true".</p>
    public func confirmSubscription(input: ConfirmSubscriptionInput, completion: @escaping (SdkResult<ConfirmSubscriptionOutput, ConfirmSubscriptionOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "confirmSubscription")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ConfirmSubscriptionInput, ConfirmSubscriptionOutput, ConfirmSubscriptionOutputError>(id: "confirmSubscription")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ConfirmSubscriptionInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ConfirmSubscriptionInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ConfirmSubscriptionInput, ConfirmSubscriptionOutput, ConfirmSubscriptionOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: ConfirmSubscriptionInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Creates a platform application object for one of the supported push notification
    ///             services, such as APNS and GCM (Firebase Cloud Messaging), to which devices and mobile
    ///             apps may register. You must specify <code>PlatformPrincipal</code> and
    ///                 <code>PlatformCredential</code> attributes when using the
    ///                 <code>CreatePlatformApplication</code> action.</p>
    ///         <p>
    ///             <code>PlatformPrincipal</code> and <code>PlatformCredential</code> are received from
    ///             the notification service.</p>
    ///         <ul>
    ///             <li>
    ///                 <p>For <code>ADM</code>, <code>PlatformPrincipal</code> is <code>client id</code>
    ///                     and <code>PlatformCredential</code> is <code>client secret</code>.</p>
    ///             </li>
    ///             <li>
    ///                 <p>For <code>Baidu</code>, <code>PlatformPrincipal</code> is <code>API key</code>
    ///                     and <code>PlatformCredential</code> is <code>secret key</code>.</p>
    ///             </li>
    ///             <li>
    ///                 <p>For <code>APNS</code> and <code>APNS_SANDBOX</code>,
    ///                         <code>PlatformPrincipal</code> is <code>SSL certificate</code> and
    ///                         <code>PlatformCredential</code> is <code>private key</code>.</p>
    ///             </li>
    ///             <li>
    ///                 <p>For <code>GCM</code> (Firebase Cloud Messaging), there is no
    ///                         <code>PlatformPrincipal</code> and the <code>PlatformCredential</code> is
    ///                         <code>API key</code>.</p>
    ///             </li>
    ///             <li>
    ///                 <p>For <code>MPNS</code>, <code>PlatformPrincipal</code> is <code>TLS
    ///                         certificate</code> and <code>PlatformCredential</code> is <code>private
    ///                         key</code>.</p>
    ///             </li>
    ///             <li>
    ///                 <p>For <code>WNS</code>, <code>PlatformPrincipal</code> is <code>Package Security
    ///                         Identifier</code> and <code>PlatformCredential</code> is <code>secret
    ///                         key</code>.</p>
    ///             </li>
    ///          </ul>
    ///         <p>You can use the returned <code>PlatformApplicationArn</code> as an attribute for the
    ///                 <code>CreatePlatformEndpoint</code> action.</p>
    public func createPlatformApplication(input: CreatePlatformApplicationInput, completion: @escaping (SdkResult<CreatePlatformApplicationOutput, CreatePlatformApplicationOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "createPlatformApplication")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<CreatePlatformApplicationInput, CreatePlatformApplicationOutput, CreatePlatformApplicationOutputError>(id: "createPlatformApplication")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: CreatePlatformApplicationInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: CreatePlatformApplicationInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<CreatePlatformApplicationInput, CreatePlatformApplicationOutput, CreatePlatformApplicationOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: CreatePlatformApplicationInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Creates an endpoint for a device and mobile app on one of the supported push
    ///             notification services, such as GCM (Firebase Cloud Messaging) and APNS.
    ///                 <code>CreatePlatformEndpoint</code> requires the <code>PlatformApplicationArn</code>
    ///             that is returned from <code>CreatePlatformApplication</code>. You can use the returned
    ///                 <code>EndpointArn</code> to send a message to a mobile app or by the
    ///                 <code>Subscribe</code> action for subscription to a topic. The
    ///                 <code>CreatePlatformEndpoint</code> action is idempotent, so if the requester
    ///             already owns an endpoint with the same device token and attributes, that endpoint's ARN
    ///             is returned without creating a new endpoint. For more information, see <a href="https://docs.aws.amazon.com/sns/latest/dg/SNSMobilePush.html">Using Amazon SNS Mobile Push
    ///                 Notifications</a>. </p>
    ///         <p>When using <code>CreatePlatformEndpoint</code> with Baidu, two attributes must be
    ///             provided: ChannelId and UserId. The token field must also contain the ChannelId. For
    ///             more information, see <a href="https://docs.aws.amazon.com/sns/latest/dg/SNSMobilePushBaiduEndpoint.html">Creating an Amazon SNS Endpoint
    ///                 for Baidu</a>. </p>
    public func createPlatformEndpoint(input: CreatePlatformEndpointInput, completion: @escaping (SdkResult<CreatePlatformEndpointOutput, CreatePlatformEndpointOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "createPlatformEndpoint")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<CreatePlatformEndpointInput, CreatePlatformEndpointOutput, CreatePlatformEndpointOutputError>(id: "createPlatformEndpoint")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: CreatePlatformEndpointInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: CreatePlatformEndpointInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<CreatePlatformEndpointInput, CreatePlatformEndpointOutput, CreatePlatformEndpointOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: CreatePlatformEndpointInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Adds a destination phone number to an AWS account in the SMS sandbox and sends a
    ///             one-time password (OTP) to that phone number.</p>
    ///         <p>When you start using Amazon SNS to send SMS messages, your AWS account is in the
    ///                 <i>SMS sandbox</i>. The SMS sandbox provides a safe environment for
    ///                 you to try Amazon SNS features without risking your reputation as an SMS sender. While your
    ///                 account is in the SMS sandbox, you can use all of the features of Amazon SNS. However, you can send
    ///                 SMS messages only to verified destination phone numbers. For more information, including how to
    ///                 move out of the sandbox to send messages without restrictions,
    ///                 see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-sms-sandbox.html">SMS sandbox</a> in
    ///                 the <i>Amazon SNS Developer Guide</i>.</p>
    public func createSMSSandboxPhoneNumber(input: CreateSMSSandboxPhoneNumberInput, completion: @escaping (SdkResult<CreateSMSSandboxPhoneNumberOutput, CreateSMSSandboxPhoneNumberOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "createSMSSandboxPhoneNumber")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<CreateSMSSandboxPhoneNumberInput, CreateSMSSandboxPhoneNumberOutput, CreateSMSSandboxPhoneNumberOutputError>(id: "createSMSSandboxPhoneNumber")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: CreateSMSSandboxPhoneNumberInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: CreateSMSSandboxPhoneNumberInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<CreateSMSSandboxPhoneNumberInput, CreateSMSSandboxPhoneNumberOutput, CreateSMSSandboxPhoneNumberOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: CreateSMSSandboxPhoneNumberInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Creates a topic to which notifications can be published. Users can create at most
    ///             100,000 standard topics (at most 1,000 FIFO topics). For more information, see <a href="http://aws.amazon.com/sns/">https://aws.amazon.com/sns</a>. This action is
    ///             idempotent, so if the requester already owns a topic with the specified name, that
    ///             topic's ARN is returned without creating a new topic.</p>
    public func createTopic(input: CreateTopicInput, completion: @escaping (SdkResult<CreateTopicOutput, CreateTopicOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "createTopic")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<CreateTopicInput, CreateTopicOutput, CreateTopicOutputError>(id: "createTopic")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: CreateTopicInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: CreateTopicInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<CreateTopicInput, CreateTopicOutput, CreateTopicOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: CreateTopicInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Deletes the endpoint for a device and mobile app from Amazon SNS. This action is
    ///             idempotent. For more information, see <a href="https://docs.aws.amazon.com/sns/latest/dg/SNSMobilePush.html">Using Amazon SNS Mobile Push
    ///             Notifications</a>. </p>
    ///         <p>When you delete an endpoint that is also subscribed to a topic, then you must also
    ///             unsubscribe the endpoint from the topic.</p>
    public func deleteEndpoint(input: DeleteEndpointInput, completion: @escaping (SdkResult<DeleteEndpointOutput, DeleteEndpointOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "deleteEndpoint")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<DeleteEndpointInput, DeleteEndpointOutput, DeleteEndpointOutputError>(id: "deleteEndpoint")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: DeleteEndpointInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: DeleteEndpointInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<DeleteEndpointInput, DeleteEndpointOutput, DeleteEndpointOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: DeleteEndpointInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Deletes a platform application object for one of the supported push notification
    ///             services, such as APNS and GCM (Firebase Cloud Messaging). For more information, see
    ///                 <a href="https://docs.aws.amazon.com/sns/latest/dg/SNSMobilePush.html">Using Amazon SNS
    ///                 Mobile Push Notifications</a>. </p>
    public func deletePlatformApplication(input: DeletePlatformApplicationInput, completion: @escaping (SdkResult<DeletePlatformApplicationOutput, DeletePlatformApplicationOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "deletePlatformApplication")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<DeletePlatformApplicationInput, DeletePlatformApplicationOutput, DeletePlatformApplicationOutputError>(id: "deletePlatformApplication")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: DeletePlatformApplicationInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: DeletePlatformApplicationInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<DeletePlatformApplicationInput, DeletePlatformApplicationOutput, DeletePlatformApplicationOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: DeletePlatformApplicationInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Deletes an AWS account's verified or pending phone number from the SMS sandbox.</p>
    ///         <p>When you start using Amazon SNS to send SMS messages, your AWS account is in the
    ///                 <i>SMS sandbox</i>. The SMS sandbox provides a safe environment for
    ///                 you to try Amazon SNS features without risking your reputation as an SMS sender. While your
    ///                 account is in the SMS sandbox, you can use all of the features of Amazon SNS. However, you can send
    ///                 SMS messages only to verified destination phone numbers. For more information, including how to
    ///                 move out of the sandbox to send messages without restrictions,
    ///                 see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-sms-sandbox.html">SMS sandbox</a> in
    ///                 the <i>Amazon SNS Developer Guide</i>.</p>
    public func deleteSMSSandboxPhoneNumber(input: DeleteSMSSandboxPhoneNumberInput, completion: @escaping (SdkResult<DeleteSMSSandboxPhoneNumberOutput, DeleteSMSSandboxPhoneNumberOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "deleteSMSSandboxPhoneNumber")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<DeleteSMSSandboxPhoneNumberInput, DeleteSMSSandboxPhoneNumberOutput, DeleteSMSSandboxPhoneNumberOutputError>(id: "deleteSMSSandboxPhoneNumber")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: DeleteSMSSandboxPhoneNumberInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: DeleteSMSSandboxPhoneNumberInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<DeleteSMSSandboxPhoneNumberInput, DeleteSMSSandboxPhoneNumberOutput, DeleteSMSSandboxPhoneNumberOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: DeleteSMSSandboxPhoneNumberInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Deletes a topic and all its subscriptions. Deleting a topic might prevent some
    ///             messages previously sent to the topic from being delivered to subscribers. This action
    ///             is idempotent, so deleting a topic that does not exist does not result in an
    ///             error.</p>
    public func deleteTopic(input: DeleteTopicInput, completion: @escaping (SdkResult<DeleteTopicOutput, DeleteTopicOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "deleteTopic")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<DeleteTopicInput, DeleteTopicOutput, DeleteTopicOutputError>(id: "deleteTopic")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: DeleteTopicInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: DeleteTopicInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<DeleteTopicInput, DeleteTopicOutput, DeleteTopicOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: DeleteTopicInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Retrieves the endpoint attributes for a device on one of the supported push
    ///             notification services, such as GCM (Firebase Cloud Messaging) and APNS. For more
    ///             information, see <a href="https://docs.aws.amazon.com/sns/latest/dg/SNSMobilePush.html">Using Amazon SNS Mobile Push Notifications</a>. </p>
    public func getEndpointAttributes(input: GetEndpointAttributesInput, completion: @escaping (SdkResult<GetEndpointAttributesOutput, GetEndpointAttributesOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getEndpointAttributes")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetEndpointAttributesInput, GetEndpointAttributesOutput, GetEndpointAttributesOutputError>(id: "getEndpointAttributes")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetEndpointAttributesInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetEndpointAttributesInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetEndpointAttributesInput, GetEndpointAttributesOutput, GetEndpointAttributesOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: GetEndpointAttributesInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Retrieves the attributes of the platform application object for the supported push
    ///             notification services, such as APNS and GCM (Firebase Cloud Messaging). For more
    ///             information, see <a href="https://docs.aws.amazon.com/sns/latest/dg/SNSMobilePush.html">Using Amazon SNS Mobile Push Notifications</a>. </p>
    public func getPlatformApplicationAttributes(input: GetPlatformApplicationAttributesInput, completion: @escaping (SdkResult<GetPlatformApplicationAttributesOutput, GetPlatformApplicationAttributesOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getPlatformApplicationAttributes")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetPlatformApplicationAttributesInput, GetPlatformApplicationAttributesOutput, GetPlatformApplicationAttributesOutputError>(id: "getPlatformApplicationAttributes")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetPlatformApplicationAttributesInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetPlatformApplicationAttributesInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetPlatformApplicationAttributesInput, GetPlatformApplicationAttributesOutput, GetPlatformApplicationAttributesOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: GetPlatformApplicationAttributesInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns the settings for sending SMS messages from your account.</p>
    ///         <p>These settings are set with the <code>SetSMSAttributes</code> action.</p>
    public func getSMSAttributes(input: GetSMSAttributesInput, completion: @escaping (SdkResult<GetSMSAttributesOutput, GetSMSAttributesOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getSMSAttributes")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetSMSAttributesInput, GetSMSAttributesOutput, GetSMSAttributesOutputError>(id: "getSMSAttributes")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetSMSAttributesInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetSMSAttributesInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetSMSAttributesInput, GetSMSAttributesOutput, GetSMSAttributesOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: GetSMSAttributesInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Retrieves the SMS sandbox status for the calling AWS account in the target AWS
    ///             Region.</p>
    ///         <p>When you start using Amazon SNS to send SMS messages, your AWS account is in the
    ///                 <i>SMS sandbox</i>. The SMS sandbox provides a safe environment for
    ///                 you to try Amazon SNS features without risking your reputation as an SMS sender. While your
    ///                 account is in the SMS sandbox, you can use all of the features of Amazon SNS. However, you can send
    ///                 SMS messages only to verified destination phone numbers. For more information, including how to
    ///                 move out of the sandbox to send messages without restrictions,
    ///                 see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-sms-sandbox.html">SMS sandbox</a> in
    ///                 the <i>Amazon SNS Developer Guide</i>.</p>
    public func getSMSSandboxAccountStatus(input: GetSMSSandboxAccountStatusInput, completion: @escaping (SdkResult<GetSMSSandboxAccountStatusOutput, GetSMSSandboxAccountStatusOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getSMSSandboxAccountStatus")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetSMSSandboxAccountStatusInput, GetSMSSandboxAccountStatusOutput, GetSMSSandboxAccountStatusOutputError>(id: "getSMSSandboxAccountStatus")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetSMSSandboxAccountStatusInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetSMSSandboxAccountStatusInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetSMSSandboxAccountStatusInput, GetSMSSandboxAccountStatusOutput, GetSMSSandboxAccountStatusOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns all of the properties of a subscription.</p>
    public func getSubscriptionAttributes(input: GetSubscriptionAttributesInput, completion: @escaping (SdkResult<GetSubscriptionAttributesOutput, GetSubscriptionAttributesOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getSubscriptionAttributes")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetSubscriptionAttributesInput, GetSubscriptionAttributesOutput, GetSubscriptionAttributesOutputError>(id: "getSubscriptionAttributes")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetSubscriptionAttributesInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetSubscriptionAttributesInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetSubscriptionAttributesInput, GetSubscriptionAttributesOutput, GetSubscriptionAttributesOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: GetSubscriptionAttributesInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns all of the properties of a topic. Topic properties returned might differ based
    ///             on the authorization of the user.</p>
    public func getTopicAttributes(input: GetTopicAttributesInput, completion: @escaping (SdkResult<GetTopicAttributesOutput, GetTopicAttributesOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getTopicAttributes")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetTopicAttributesInput, GetTopicAttributesOutput, GetTopicAttributesOutputError>(id: "getTopicAttributes")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetTopicAttributesInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetTopicAttributesInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetTopicAttributesInput, GetTopicAttributesOutput, GetTopicAttributesOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: GetTopicAttributesInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Lists the endpoints and endpoint attributes for devices in a supported push
    ///             notification service, such as GCM (Firebase Cloud Messaging) and APNS. The results for
    ///                 <code>ListEndpointsByPlatformApplication</code> are paginated and return a limited
    ///             list of endpoints, up to 100. If additional records are available after the first page
    ///             results, then a NextToken string will be returned. To receive the next page, you call
    ///                 <code>ListEndpointsByPlatformApplication</code> again using the NextToken string
    ///             received from the previous call. When there are no more records to return, NextToken
    ///             will be null. For more information, see <a href="https://docs.aws.amazon.com/sns/latest/dg/SNSMobilePush.html">Using Amazon SNS Mobile Push
    ///             Notifications</a>. </p>
    ///         <p>This action is throttled at 30 transactions per second (TPS).</p>
    public func listEndpointsByPlatformApplication(input: ListEndpointsByPlatformApplicationInput, completion: @escaping (SdkResult<ListEndpointsByPlatformApplicationOutput, ListEndpointsByPlatformApplicationOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "listEndpointsByPlatformApplication")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ListEndpointsByPlatformApplicationInput, ListEndpointsByPlatformApplicationOutput, ListEndpointsByPlatformApplicationOutputError>(id: "listEndpointsByPlatformApplication")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ListEndpointsByPlatformApplicationInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ListEndpointsByPlatformApplicationInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ListEndpointsByPlatformApplicationInput, ListEndpointsByPlatformApplicationOutput, ListEndpointsByPlatformApplicationOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: ListEndpointsByPlatformApplicationInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Lists the calling AWS account's dedicated origination numbers and their metadata. For
    ///             more information about origination numbers, see <a href="https://docs.aws.amazon.com/sns/latest/dg/channels-sms-originating-identities-origination-numbers.html">Origination numbers</a> in the <i>Amazon SNS Developer
    ///             Guide</i>.</p>
    public func listOriginationNumbers(input: ListOriginationNumbersInput, completion: @escaping (SdkResult<ListOriginationNumbersOutput, ListOriginationNumbersOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "listOriginationNumbers")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ListOriginationNumbersInput, ListOriginationNumbersOutput, ListOriginationNumbersOutputError>(id: "listOriginationNumbers")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ListOriginationNumbersInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ListOriginationNumbersInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ListOriginationNumbersInput, ListOriginationNumbersOutput, ListOriginationNumbersOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: ListOriginationNumbersInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns a list of phone numbers that are opted out, meaning you cannot send SMS
    ///             messages to them.</p>
    ///         <p>The results for <code>ListPhoneNumbersOptedOut</code> are paginated, and each page
    ///             returns up to 100 phone numbers. If additional phone numbers are available after the
    ///             first page of results, then a <code>NextToken</code> string will be returned. To receive
    ///             the next page, you call <code>ListPhoneNumbersOptedOut</code> again using the
    ///                 <code>NextToken</code> string received from the previous call. When there are no
    ///             more records to return, <code>NextToken</code> will be null.</p>
    public func listPhoneNumbersOptedOut(input: ListPhoneNumbersOptedOutInput, completion: @escaping (SdkResult<ListPhoneNumbersOptedOutOutput, ListPhoneNumbersOptedOutOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "listPhoneNumbersOptedOut")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ListPhoneNumbersOptedOutInput, ListPhoneNumbersOptedOutOutput, ListPhoneNumbersOptedOutOutputError>(id: "listPhoneNumbersOptedOut")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ListPhoneNumbersOptedOutInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ListPhoneNumbersOptedOutInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ListPhoneNumbersOptedOutInput, ListPhoneNumbersOptedOutOutput, ListPhoneNumbersOptedOutOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: ListPhoneNumbersOptedOutInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Lists the platform application objects for the supported push notification services,
    ///             such as APNS and GCM (Firebase Cloud Messaging). The results for
    ///                 <code>ListPlatformApplications</code> are paginated and return a limited list of
    ///             applications, up to 100. If additional records are available after the first page
    ///             results, then a NextToken string will be returned. To receive the next page, you call
    ///                 <code>ListPlatformApplications</code> using the NextToken string received from the
    ///             previous call. When there are no more records to return, <code>NextToken</code> will be
    ///             null. For more information, see <a href="https://docs.aws.amazon.com/sns/latest/dg/SNSMobilePush.html">Using Amazon SNS Mobile Push
    ///             Notifications</a>. </p>
    ///         <p>This action is throttled at 15 transactions per second (TPS).</p>
    public func listPlatformApplications(input: ListPlatformApplicationsInput, completion: @escaping (SdkResult<ListPlatformApplicationsOutput, ListPlatformApplicationsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "listPlatformApplications")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ListPlatformApplicationsInput, ListPlatformApplicationsOutput, ListPlatformApplicationsOutputError>(id: "listPlatformApplications")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ListPlatformApplicationsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ListPlatformApplicationsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ListPlatformApplicationsInput, ListPlatformApplicationsOutput, ListPlatformApplicationsOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: ListPlatformApplicationsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Lists the calling AWS account's current verified and pending destination phone numbers
    ///             in the SMS sandbox.</p>
    ///         <p>When you start using Amazon SNS to send SMS messages, your AWS account is in the
    ///                 <i>SMS sandbox</i>. The SMS sandbox provides a safe environment for
    ///                 you to try Amazon SNS features without risking your reputation as an SMS sender. While your
    ///                 account is in the SMS sandbox, you can use all of the features of Amazon SNS. However, you can send
    ///                 SMS messages only to verified destination phone numbers. For more information, including how to
    ///                 move out of the sandbox to send messages without restrictions,
    ///                 see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-sms-sandbox.html">SMS sandbox</a> in
    ///                 the <i>Amazon SNS Developer Guide</i>.</p>
    public func listSMSSandboxPhoneNumbers(input: ListSMSSandboxPhoneNumbersInput, completion: @escaping (SdkResult<ListSMSSandboxPhoneNumbersOutput, ListSMSSandboxPhoneNumbersOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "listSMSSandboxPhoneNumbers")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ListSMSSandboxPhoneNumbersInput, ListSMSSandboxPhoneNumbersOutput, ListSMSSandboxPhoneNumbersOutputError>(id: "listSMSSandboxPhoneNumbers")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ListSMSSandboxPhoneNumbersInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ListSMSSandboxPhoneNumbersInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ListSMSSandboxPhoneNumbersInput, ListSMSSandboxPhoneNumbersOutput, ListSMSSandboxPhoneNumbersOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: ListSMSSandboxPhoneNumbersInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns a list of the requester's subscriptions. Each call returns a limited list of
    ///             subscriptions, up to 100. If there are more subscriptions, a <code>NextToken</code> is
    ///             also returned. Use the <code>NextToken</code> parameter in a new
    ///                 <code>ListSubscriptions</code> call to get further results.</p>
    ///         <p>This action is throttled at 30 transactions per second (TPS).</p>
    public func listSubscriptions(input: ListSubscriptionsInput, completion: @escaping (SdkResult<ListSubscriptionsOutput, ListSubscriptionsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "listSubscriptions")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ListSubscriptionsInput, ListSubscriptionsOutput, ListSubscriptionsOutputError>(id: "listSubscriptions")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ListSubscriptionsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ListSubscriptionsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ListSubscriptionsInput, ListSubscriptionsOutput, ListSubscriptionsOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: ListSubscriptionsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns a list of the subscriptions to a specific topic. Each call returns a limited
    ///             list of subscriptions, up to 100. If there are more subscriptions, a
    ///                 <code>NextToken</code> is also returned. Use the <code>NextToken</code> parameter in
    ///             a new <code>ListSubscriptionsByTopic</code> call to get further results.</p>
    ///         <p>This action is throttled at 30 transactions per second (TPS).</p>
    public func listSubscriptionsByTopic(input: ListSubscriptionsByTopicInput, completion: @escaping (SdkResult<ListSubscriptionsByTopicOutput, ListSubscriptionsByTopicOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "listSubscriptionsByTopic")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ListSubscriptionsByTopicInput, ListSubscriptionsByTopicOutput, ListSubscriptionsByTopicOutputError>(id: "listSubscriptionsByTopic")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ListSubscriptionsByTopicInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ListSubscriptionsByTopicInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ListSubscriptionsByTopicInput, ListSubscriptionsByTopicOutput, ListSubscriptionsByTopicOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: ListSubscriptionsByTopicInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>List all tags added to the specified Amazon SNS topic. For an overview, see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-tags.html">Amazon SNS Tags</a> in the
    ///                 <i>Amazon Simple Notification Service Developer Guide</i>.</p>
    public func listTagsForResource(input: ListTagsForResourceInput, completion: @escaping (SdkResult<ListTagsForResourceOutput, ListTagsForResourceOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "listTagsForResource")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ListTagsForResourceInput, ListTagsForResourceOutput, ListTagsForResourceOutputError>(id: "listTagsForResource")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ListTagsForResourceInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ListTagsForResourceInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ListTagsForResourceInput, ListTagsForResourceOutput, ListTagsForResourceOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: ListTagsForResourceInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns a list of the requester's topics. Each call returns a limited list of topics,
    ///             up to 100. If there are more topics, a <code>NextToken</code> is also returned. Use the
    ///                 <code>NextToken</code> parameter in a new <code>ListTopics</code> call to get
    ///             further results.</p>
    ///         <p>This action is throttled at 30 transactions per second (TPS).</p>
    public func listTopics(input: ListTopicsInput, completion: @escaping (SdkResult<ListTopicsOutput, ListTopicsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "listTopics")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ListTopicsInput, ListTopicsOutput, ListTopicsOutputError>(id: "listTopics")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ListTopicsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ListTopicsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ListTopicsInput, ListTopicsOutput, ListTopicsOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: ListTopicsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Use this request to opt in a phone number that is opted out, which enables you to
    ///             resume sending SMS messages to the number.</p>
    ///         <p>You can opt in a phone number only once every 30 days.</p>
    public func optInPhoneNumber(input: OptInPhoneNumberInput, completion: @escaping (SdkResult<OptInPhoneNumberOutput, OptInPhoneNumberOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "optInPhoneNumber")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<OptInPhoneNumberInput, OptInPhoneNumberOutput, OptInPhoneNumberOutputError>(id: "optInPhoneNumber")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: OptInPhoneNumberInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: OptInPhoneNumberInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<OptInPhoneNumberInput, OptInPhoneNumberOutput, OptInPhoneNumberOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: OptInPhoneNumberInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Sends a message to an Amazon SNS topic, a text message (SMS message) directly to a phone
    ///             number, or a message to a mobile platform endpoint (when you specify the
    ///                 <code>TargetArn</code>).</p>
    ///         <p>If you send a message to a topic, Amazon SNS delivers the message to each endpoint that is
    ///             subscribed to the topic. The format of the message depends on the notification protocol
    ///             for each subscribed endpoint.</p>
    ///         <p>When a <code>messageId</code> is returned, the message has been saved and Amazon SNS
    ///             will attempt to deliver it shortly.</p>
    ///         <p>To use the <code>Publish</code> action for sending a message to a mobile endpoint,
    ///             such as an app on a Kindle device or mobile phone, you must specify the EndpointArn for
    ///             the TargetArn parameter. The EndpointArn is returned when making a call with the
    ///                 <code>CreatePlatformEndpoint</code> action.
    ///       </p>
    ///         <p>For more information about formatting messages, see <a href="https://docs.aws.amazon.com/sns/latest/dg/mobile-push-send-custommessage.html">Send Custom
    ///                 Platform-Specific Payloads in Messages to Mobile Devices</a>. </p>
    ///         <important>
    ///             <p>You can publish messages only to topics and endpoints in the same AWS
    ///                 Region.</p>
    ///         </important>
    public func publish(input: PublishInput, completion: @escaping (SdkResult<PublishOutput, PublishOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "publish")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<PublishInput, PublishOutput, PublishOutputError>(id: "publish")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: PublishInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: PublishInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<PublishInput, PublishOutput, PublishOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: PublishInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Removes a statement from a topic's access control policy.</p>
    public func removePermission(input: RemovePermissionInput, completion: @escaping (SdkResult<RemovePermissionOutput, RemovePermissionOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "removePermission")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<RemovePermissionInput, RemovePermissionOutput, RemovePermissionOutputError>(id: "removePermission")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: RemovePermissionInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: RemovePermissionInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<RemovePermissionInput, RemovePermissionOutput, RemovePermissionOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: RemovePermissionInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Sets the attributes for an endpoint for a device on one of the supported push
    ///             notification services, such as GCM (Firebase Cloud Messaging) and APNS. For more
    ///             information, see <a href="https://docs.aws.amazon.com/sns/latest/dg/SNSMobilePush.html">Using Amazon SNS Mobile Push Notifications</a>. </p>
    public func setEndpointAttributes(input: SetEndpointAttributesInput, completion: @escaping (SdkResult<SetEndpointAttributesOutput, SetEndpointAttributesOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "setEndpointAttributes")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<SetEndpointAttributesInput, SetEndpointAttributesOutput, SetEndpointAttributesOutputError>(id: "setEndpointAttributes")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: SetEndpointAttributesInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: SetEndpointAttributesInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<SetEndpointAttributesInput, SetEndpointAttributesOutput, SetEndpointAttributesOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: SetEndpointAttributesInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Sets the attributes of the platform application object for the supported push
    ///             notification services, such as APNS and GCM (Firebase Cloud Messaging). For more
    ///             information, see <a href="https://docs.aws.amazon.com/sns/latest/dg/SNSMobilePush.html">Using Amazon SNS Mobile Push Notifications</a>. For information on configuring
    ///             attributes for message delivery status, see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-msg-status.html">Using Amazon SNS Application Attributes for
    ///                 Message Delivery Status</a>. </p>
    public func setPlatformApplicationAttributes(input: SetPlatformApplicationAttributesInput, completion: @escaping (SdkResult<SetPlatformApplicationAttributesOutput, SetPlatformApplicationAttributesOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "setPlatformApplicationAttributes")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<SetPlatformApplicationAttributesInput, SetPlatformApplicationAttributesOutput, SetPlatformApplicationAttributesOutputError>(id: "setPlatformApplicationAttributes")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: SetPlatformApplicationAttributesInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: SetPlatformApplicationAttributesInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<SetPlatformApplicationAttributesInput, SetPlatformApplicationAttributesOutput, SetPlatformApplicationAttributesOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: SetPlatformApplicationAttributesInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Use this request to set the default settings for sending SMS messages and receiving
    ///             daily SMS usage reports.</p>
    ///         <p>You can override some of these settings for a single message when you use the
    ///                 <code>Publish</code> action with the <code>MessageAttributes.entry.N</code>
    ///             parameter. For more information, see <a href="https://docs.aws.amazon.com/sns/latest/dg/sms_publish-to-phone.html">Publishing to a mobile phone</a>
    ///             in the <i>Amazon SNS Developer Guide</i>.</p>
    ///         <note>
    ///             <p>To use this operation, you must grant the Amazon SNS service principal
    ///                     (<code>sns.amazonaws.com</code>) permission to perform the
    ///                     <code>s3:ListBucket</code> action. </p>
    ///         </note>
    public func setSMSAttributes(input: SetSMSAttributesInput, completion: @escaping (SdkResult<SetSMSAttributesOutput, SetSMSAttributesOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "setSMSAttributes")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<SetSMSAttributesInput, SetSMSAttributesOutput, SetSMSAttributesOutputError>(id: "setSMSAttributes")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: SetSMSAttributesInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: SetSMSAttributesInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<SetSMSAttributesInput, SetSMSAttributesOutput, SetSMSAttributesOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: SetSMSAttributesInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Allows a subscription owner to set an attribute of the subscription to a new
    ///             value.</p>
    public func setSubscriptionAttributes(input: SetSubscriptionAttributesInput, completion: @escaping (SdkResult<SetSubscriptionAttributesOutput, SetSubscriptionAttributesOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "setSubscriptionAttributes")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<SetSubscriptionAttributesInput, SetSubscriptionAttributesOutput, SetSubscriptionAttributesOutputError>(id: "setSubscriptionAttributes")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: SetSubscriptionAttributesInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: SetSubscriptionAttributesInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<SetSubscriptionAttributesInput, SetSubscriptionAttributesOutput, SetSubscriptionAttributesOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: SetSubscriptionAttributesInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Allows a topic owner to set an attribute of the topic to a new value.</p>
    public func setTopicAttributes(input: SetTopicAttributesInput, completion: @escaping (SdkResult<SetTopicAttributesOutput, SetTopicAttributesOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "setTopicAttributes")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<SetTopicAttributesInput, SetTopicAttributesOutput, SetTopicAttributesOutputError>(id: "setTopicAttributes")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: SetTopicAttributesInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: SetTopicAttributesInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<SetTopicAttributesInput, SetTopicAttributesOutput, SetTopicAttributesOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: SetTopicAttributesInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Subscribes an endpoint to an Amazon SNS topic. If the endpoint type is HTTP/S or email, or
    ///             if the endpoint and the topic are not in the same AWS account, the endpoint owner must
    ///             run the <code>ConfirmSubscription</code> action to confirm the subscription.</p>
    ///         <p>You call the <code>ConfirmSubscription</code> action with the token from the
    ///             subscription response. Confirmation tokens are valid for three days.</p>
    ///         <p>This action is throttled at 100 transactions per second (TPS).</p>
    public func subscribe(input: SubscribeInput, completion: @escaping (SdkResult<SubscribeOutput, SubscribeOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "subscribe")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<SubscribeInput, SubscribeOutput, SubscribeOutputError>(id: "subscribe")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: SubscribeInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: SubscribeInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<SubscribeInput, SubscribeOutput, SubscribeOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: SubscribeInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Add tags to the specified Amazon SNS topic. For an overview, see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-tags.html">Amazon SNS Tags</a> in the
    ///                 <i>Amazon SNS Developer Guide</i>.</p>
    ///         <p>When you use topic tags, keep the following guidelines in mind:</p>
    ///         <ul>
    ///             <li>
    ///                 <p>Adding more than 50 tags to a topic isn't recommended.</p>
    ///             </li>
    ///             <li>
    ///                 <p>Tags don't have any semantic meaning. Amazon SNS interprets tags as character
    ///                     strings.</p>
    ///             </li>
    ///             <li>
    ///                 <p>Tags are case-sensitive.</p>
    ///             </li>
    ///             <li>
    ///                 <p>A new tag with a key identical to that of an existing tag overwrites the
    ///                     existing tag.</p>
    ///             </li>
    ///             <li>
    ///                 <p>Tagging actions are limited to 10 TPS per AWS account, per AWS region. If your
    ///                     application requires a higher throughput, file a <a href="https://console.aws.amazon.com/support/home#/case/create?issueType=technical">technical support request</a>.</p>
    ///             </li>
    ///          </ul>
    public func tagResource(input: TagResourceInput, completion: @escaping (SdkResult<TagResourceOutput, TagResourceOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "tagResource")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<TagResourceInput, TagResourceOutput, TagResourceOutputError>(id: "tagResource")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: TagResourceInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: TagResourceInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<TagResourceInput, TagResourceOutput, TagResourceOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: TagResourceInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Deletes a subscription. If the subscription requires authentication for deletion, only
    ///             the owner of the subscription or the topic's owner can unsubscribe, and an AWS signature
    ///             is required. If the <code>Unsubscribe</code> call does not require authentication and
    ///             the requester is not the subscription owner, a final cancellation message is delivered
    ///             to the endpoint, so that the endpoint owner can easily resubscribe to the topic if the
    ///                 <code>Unsubscribe</code> request was unintended.</p>
    ///         <p>This action is throttled at 100 transactions per second (TPS).</p>
    public func unsubscribe(input: UnsubscribeInput, completion: @escaping (SdkResult<UnsubscribeOutput, UnsubscribeOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "unsubscribe")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<UnsubscribeInput, UnsubscribeOutput, UnsubscribeOutputError>(id: "unsubscribe")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: UnsubscribeInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: UnsubscribeInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<UnsubscribeInput, UnsubscribeOutput, UnsubscribeOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: UnsubscribeInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Remove tags from the specified Amazon SNS topic. For an overview, see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-tags.html">Amazon SNS Tags</a> in the
    ///                 <i>Amazon SNS Developer Guide</i>.</p>
    public func untagResource(input: UntagResourceInput, completion: @escaping (SdkResult<UntagResourceOutput, UntagResourceOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "untagResource")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<UntagResourceInput, UntagResourceOutput, UntagResourceOutputError>(id: "untagResource")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: UntagResourceInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: UntagResourceInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<UntagResourceInput, UntagResourceOutput, UntagResourceOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: UntagResourceInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Verifies a destination phone number with a one-time password (OTP) for the calling AWS
    ///             account.</p>
    ///         <p>When you start using Amazon SNS to send SMS messages, your AWS account is in the
    ///                 <i>SMS sandbox</i>. The SMS sandbox provides a safe environment for
    ///                 you to try Amazon SNS features without risking your reputation as an SMS sender. While your
    ///                 account is in the SMS sandbox, you can use all of the features of Amazon SNS. However, you can send
    ///                 SMS messages only to verified destination phone numbers. For more information, including how to
    ///                 move out of the sandbox to send messages without restrictions,
    ///                 see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-sms-sandbox.html">SMS sandbox</a> in
    ///                 the <i>Amazon SNS Developer Guide</i>.</p>
    public func verifySMSSandboxPhoneNumber(input: VerifySMSSandboxPhoneNumberInput, completion: @escaping (SdkResult<VerifySMSSandboxPhoneNumberOutput, VerifySMSSandboxPhoneNumberOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "verifySMSSandboxPhoneNumber")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "sns.\(config.region).amazonaws.com")
                      .withSigningName(value: "sns")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<VerifySMSSandboxPhoneNumberInput, VerifySMSSandboxPhoneNumberOutput, VerifySMSSandboxPhoneNumberOutputError>(id: "verifySMSSandboxPhoneNumber")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: VerifySMSSandboxPhoneNumberInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: VerifySMSSandboxPhoneNumberInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<VerifySMSSandboxPhoneNumberInput, VerifySMSSandboxPhoneNumberOutput, VerifySMSSandboxPhoneNumberOutputError>(contentType: "application/x-www-form-urlencoded"))
        operation.serializeStep.intercept(position: .before, middleware: VerifySMSSandboxPhoneNumberInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

}
