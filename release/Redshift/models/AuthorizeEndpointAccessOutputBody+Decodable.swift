// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

struct AuthorizeEndpointAccessOutputBody: Equatable {
    public let grantor: String?
    public let grantee: String?
    public let clusterIdentifier: String?
    public let authorizeTime: Date?
    public let clusterStatus: String?
    public let status: AuthorizationStatus?
    public let allowedAllVPCs: Bool
    public let allowedVPCs: [String]?
    public let endpointCount: Int
}

extension AuthorizeEndpointAccessOutputBody: Decodable {
    enum CodingKeys: String, CodingKey {
        case allowedAllVPCs = "AllowedAllVPCs"
        case allowedVPCs = "AllowedVPCs"
        case authorizeTime = "AuthorizeTime"
        case clusterIdentifier = "ClusterIdentifier"
        case clusterStatus = "ClusterStatus"
        case endpointCount = "EndpointCount"
        case grantee = "Grantee"
        case grantor = "Grantor"
        case status = "Status"
    }

    public init (from decoder: Decoder) throws {
        let topLevelContainer = try decoder.container(keyedBy: Key.self)
        let containerValues = try topLevelContainer.nestedContainer(keyedBy: CodingKeys.self, forKey: Key("AuthorizeEndpointAccessResult"))
        let grantorDecoded = try containerValues.decodeIfPresent(String.self, forKey: .grantor)
        grantor = grantorDecoded
        let granteeDecoded = try containerValues.decodeIfPresent(String.self, forKey: .grantee)
        grantee = granteeDecoded
        let clusterIdentifierDecoded = try containerValues.decodeIfPresent(String.self, forKey: .clusterIdentifier)
        clusterIdentifier = clusterIdentifierDecoded
        let authorizeTimeDecoded = try containerValues.decodeIfPresent(String.self, forKey: .authorizeTime)
        var authorizeTimeBuffer:Date? = nil
        if let authorizeTimeDecoded = authorizeTimeDecoded {
            authorizeTimeBuffer = try TimestampWrapperDecoder.parseDateStringValue(authorizeTimeDecoded, format: .dateTime)
        }
        authorizeTime = authorizeTimeBuffer
        let clusterStatusDecoded = try containerValues.decodeIfPresent(String.self, forKey: .clusterStatus)
        clusterStatus = clusterStatusDecoded
        let statusDecoded = try containerValues.decodeIfPresent(AuthorizationStatus.self, forKey: .status)
        status = statusDecoded
        let allowedAllVPCsDecoded = try containerValues.decode(Bool.self, forKey: .allowedAllVPCs)
        allowedAllVPCs = allowedAllVPCsDecoded
        if containerValues.contains(.allowedVPCs) {
            struct KeyVal0{struct VpcIdentifier{}}
            let allowedVPCsWrappedContainer = containerValues.nestedContainerNonThrowable(keyedBy: CollectionMemberCodingKey<KeyVal0.VpcIdentifier>.CodingKeys.self, forKey: .allowedVPCs)
            if let allowedVPCsWrappedContainer = allowedVPCsWrappedContainer {
                let allowedVPCsContainer = try allowedVPCsWrappedContainer.decodeIfPresent([String].self, forKey: .member)
                var allowedVPCsBuffer:[String]? = nil
                if let allowedVPCsContainer = allowedVPCsContainer {
                    allowedVPCsBuffer = [String]()
                    for stringContainer0 in allowedVPCsContainer {
                        allowedVPCsBuffer?.append(stringContainer0)
                    }
                }
                allowedVPCs = allowedVPCsBuffer
            } else {
                allowedVPCs = []
            }
        } else {
            allowedVPCs = nil
        }
        let endpointCountDecoded = try containerValues.decode(Int.self, forKey: .endpointCount)
        endpointCount = endpointCountDecoded
    }
}
