// Code generated by smithy-swift-codegen. DO NOT EDIT!

import AWSClientRuntime
import ClientRuntime
import Foundation

public class AmplifyBackendClient {
    let client: SdkHttpClient
    let config: AmplifyBackendClientConfiguration
    let serviceName = "AmplifyBackend"
    let encoder: RequestEncoder
    let decoder: ResponseDecoder

    public init(config: AmplifyBackendClientConfiguration) {
        client = SdkHttpClient(engine: config.httpClientEngine, config: config.httpClientConfiguration)
        let encoder = JSONEncoder()
        encoder.dateEncodingStrategy = .secondsSince1970
        self.encoder = config.encoder ?? encoder
        let decoder = JSONDecoder()
        decoder.dateDecodingStrategy = .secondsSince1970
        self.decoder = config.decoder ?? decoder
        self.config = config
    }

    public class AmplifyBackendClientConfiguration: ClientRuntime.Configuration, AWSClientConfiguration {

        public var region: String
        public var credentialsProvider: AWSCredentialsProvider
        public var signingRegion: String
        public var endpointResolver: EndpointResolver

        public init (
            credentialsProvider: AWSCredentialsProvider,
            endpointResolver: EndpointResolver,
            region: String,
            signingRegion: String
        ) throws
        {
            self.credentialsProvider = credentialsProvider
            self.endpointResolver = endpointResolver
            self.region = region
            self.signingRegion = signingRegion
        }

        public convenience init(credentialsProvider: AWSCredentialsProvider) throws {
            let region = "us-east-1"
            let signingRegion = "us-east-1"
            let endpointResolver = DefaultEndpointResolver()
            try self.init(
                credentialsProvider: credentialsProvider,
                endpointResolver: endpointResolver,
                region: region,
                signingRegion: signingRegion
            )
        }

        public static func `default`() throws -> AmplifyBackendClientConfiguration {
            let awsCredsProvider = try AWSCredentialsProvider.fromEnv()
            return try AmplifyBackendClientConfiguration(credentialsProvider: awsCredsProvider)
        }
    }
}

extension AmplifyBackendClient: AmplifyBackendClientProtocol {
    /// <p>This operation clones an existing backend.</p>
    public func cloneBackend(input: CloneBackendInput, completion: @escaping (SdkResult<CloneBackendOutput, CloneBackendOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/environments/\(backendEnvironmentName)/clone"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "cloneBackend")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<CloneBackendInput, CloneBackendOutput, CloneBackendOutputError>(id: "cloneBackend")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: CloneBackendInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: CloneBackendInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<CloneBackendInput, CloneBackendOutput, CloneBackendOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: CloneBackendInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>This operation creates a backend for an Amplify app. Backends are automatically created at the time of app creation.</p>
    public func createBackend(input: CreateBackendInput, completion: @escaping (SdkResult<CreateBackendOutput, CreateBackendOutputError>) -> Void)
    {
        let urlPath = "/backend"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "createBackend")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<CreateBackendInput, CreateBackendOutput, CreateBackendOutputError>(id: "createBackend")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<CreateBackendInput, CreateBackendOutput, CreateBackendOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Creates a new backend API resource.</p>
    public func createBackendAPI(input: CreateBackendAPIInput, completion: @escaping (SdkResult<CreateBackendAPIOutput, CreateBackendAPIOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/api"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "createBackendAPI")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<CreateBackendAPIInput, CreateBackendAPIOutput, CreateBackendAPIOutputError>(id: "createBackendAPI")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendAPIInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendAPIInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<CreateBackendAPIInput, CreateBackendAPIOutput, CreateBackendAPIOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendAPIInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Creates a new backend authentication resource.</p>
    public func createBackendAuth(input: CreateBackendAuthInput, completion: @escaping (SdkResult<CreateBackendAuthOutput, CreateBackendAuthOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/auth"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "createBackendAuth")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<CreateBackendAuthInput, CreateBackendAuthOutput, CreateBackendAuthOutputError>(id: "createBackendAuth")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendAuthInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendAuthInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<CreateBackendAuthInput, CreateBackendAuthOutput, CreateBackendAuthOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendAuthInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Creates a config object for a backend.</p>
    public func createBackendConfig(input: CreateBackendConfigInput, completion: @escaping (SdkResult<CreateBackendConfigOutput, CreateBackendConfigOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/config"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "createBackendConfig")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<CreateBackendConfigInput, CreateBackendConfigOutput, CreateBackendConfigOutputError>(id: "createBackendConfig")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendConfigInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendConfigInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<CreateBackendConfigInput, CreateBackendConfigOutput, CreateBackendConfigOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: CreateBackendConfigInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Generates a one-time challenge code to authenticate a user into your Amplify Admin UI.</p>
    public func createToken(input: CreateTokenInput, completion: @escaping (SdkResult<CreateTokenOutput, CreateTokenOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/challenge"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "createToken")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<CreateTokenInput, CreateTokenOutput, CreateTokenOutputError>(id: "createToken")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: CreateTokenInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: CreateTokenInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<CreateTokenInput, CreateTokenOutput, CreateTokenOutputError>(contentType: "application/json"))
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Removes an existing environment from your Amplify project.</p>
    public func deleteBackend(input: DeleteBackendInput, completion: @escaping (SdkResult<DeleteBackendOutput, DeleteBackendOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/environments/\(backendEnvironmentName)/remove"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "deleteBackend")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<DeleteBackendInput, DeleteBackendOutput, DeleteBackendOutputError>(id: "deleteBackend")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: DeleteBackendInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: DeleteBackendInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<DeleteBackendInput, DeleteBackendOutput, DeleteBackendOutputError>(contentType: "application/json"))
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Deletes an existing backend API resource.</p>
    public func deleteBackendAPI(input: DeleteBackendAPIInput, completion: @escaping (SdkResult<DeleteBackendAPIOutput, DeleteBackendAPIOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/api/\(backendEnvironmentName)/remove"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "deleteBackendAPI")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<DeleteBackendAPIInput, DeleteBackendAPIOutput, DeleteBackendAPIOutputError>(id: "deleteBackendAPI")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: DeleteBackendAPIInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: DeleteBackendAPIInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<DeleteBackendAPIInput, DeleteBackendAPIOutput, DeleteBackendAPIOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: DeleteBackendAPIInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Deletes an existing backend authentication resource.</p>
    public func deleteBackendAuth(input: DeleteBackendAuthInput, completion: @escaping (SdkResult<DeleteBackendAuthOutput, DeleteBackendAuthOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/auth/\(backendEnvironmentName)/remove"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "deleteBackendAuth")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<DeleteBackendAuthInput, DeleteBackendAuthOutput, DeleteBackendAuthOutputError>(id: "deleteBackendAuth")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: DeleteBackendAuthInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: DeleteBackendAuthInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<DeleteBackendAuthInput, DeleteBackendAuthOutput, DeleteBackendAuthOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: DeleteBackendAuthInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Deletes the challenge token based on the given appId and sessionId.</p>
    public func deleteToken(input: DeleteTokenInput, completion: @escaping (SdkResult<DeleteTokenOutput, DeleteTokenOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let sessionId = input.sessionId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component sessionId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/challenge/\(sessionId)/remove"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "deleteToken")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<DeleteTokenInput, DeleteTokenOutput, DeleteTokenOutputError>(id: "deleteToken")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: DeleteTokenInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: DeleteTokenInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<DeleteTokenInput, DeleteTokenOutput, DeleteTokenOutputError>(contentType: "application/json"))
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Generates a model schema for an existing backend API resource.</p>
    public func generateBackendAPIModels(input: GenerateBackendAPIModelsInput, completion: @escaping (SdkResult<GenerateBackendAPIModelsOutput, GenerateBackendAPIModelsOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/api/\(backendEnvironmentName)/generateModels"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "generateBackendAPIModels")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GenerateBackendAPIModelsInput, GenerateBackendAPIModelsOutput, GenerateBackendAPIModelsOutputError>(id: "generateBackendAPIModels")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GenerateBackendAPIModelsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GenerateBackendAPIModelsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GenerateBackendAPIModelsInput, GenerateBackendAPIModelsOutput, GenerateBackendAPIModelsOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: GenerateBackendAPIModelsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Provides project-level details for your Amplify UI project.</p>
    public func getBackend(input: GetBackendInput, completion: @escaping (SdkResult<GetBackendOutput, GetBackendOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/details"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getBackend")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetBackendInput, GetBackendOutput, GetBackendOutputError>(id: "getBackend")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetBackendInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetBackendInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetBackendInput, GetBackendOutput, GetBackendOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: GetBackendInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Gets the details for a backend API.</p>
    public func getBackendAPI(input: GetBackendAPIInput, completion: @escaping (SdkResult<GetBackendAPIOutput, GetBackendAPIOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/api/\(backendEnvironmentName)/details"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getBackendAPI")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetBackendAPIInput, GetBackendAPIOutput, GetBackendAPIOutputError>(id: "getBackendAPI")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetBackendAPIInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetBackendAPIInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetBackendAPIInput, GetBackendAPIOutput, GetBackendAPIOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: GetBackendAPIInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Generates a model schema for existing backend API resource.</p>
    public func getBackendAPIModels(input: GetBackendAPIModelsInput, completion: @escaping (SdkResult<GetBackendAPIModelsOutput, GetBackendAPIModelsOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/api/\(backendEnvironmentName)/getModels"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getBackendAPIModels")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetBackendAPIModelsInput, GetBackendAPIModelsOutput, GetBackendAPIModelsOutputError>(id: "getBackendAPIModels")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetBackendAPIModelsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetBackendAPIModelsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetBackendAPIModelsInput, GetBackendAPIModelsOutput, GetBackendAPIModelsOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: GetBackendAPIModelsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Gets backend auth details.</p>
    public func getBackendAuth(input: GetBackendAuthInput, completion: @escaping (SdkResult<GetBackendAuthOutput, GetBackendAuthOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/auth/\(backendEnvironmentName)/details"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getBackendAuth")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetBackendAuthInput, GetBackendAuthOutput, GetBackendAuthOutputError>(id: "getBackendAuth")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetBackendAuthInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetBackendAuthInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetBackendAuthInput, GetBackendAuthOutput, GetBackendAuthOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: GetBackendAuthInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns information about a specific job.</p>
    public func getBackendJob(input: GetBackendJobInput, completion: @escaping (SdkResult<GetBackendJobOutput, GetBackendJobOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        guard let jobId = input.jobId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component jobId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/job/\(backendEnvironmentName)/\(jobId)"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .get)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getBackendJob")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetBackendJobInput, GetBackendJobOutput, GetBackendJobOutputError>(id: "getBackendJob")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetBackendJobInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetBackendJobInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetBackendJobInput, GetBackendJobOutput, GetBackendJobOutputError>(contentType: "application/json"))
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Gets the challenge token based on the given appId and sessionId.</p>
    public func getToken(input: GetTokenInput, completion: @escaping (SdkResult<GetTokenOutput, GetTokenOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let sessionId = input.sessionId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component sessionId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/challenge/\(sessionId)"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .get)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getToken")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetTokenInput, GetTokenOutput, GetTokenOutputError>(id: "getToken")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetTokenInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetTokenInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetTokenInput, GetTokenOutput, GetTokenOutputError>(contentType: "application/json"))
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Lists the jobs for the backend of an Amplify app.</p>
    public func listBackendJobs(input: ListBackendJobsInput, completion: @escaping (SdkResult<ListBackendJobsOutput, ListBackendJobsOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/job/\(backendEnvironmentName)"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "listBackendJobs")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ListBackendJobsInput, ListBackendJobsOutput, ListBackendJobsOutputError>(id: "listBackendJobs")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ListBackendJobsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ListBackendJobsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ListBackendJobsInput, ListBackendJobsOutput, ListBackendJobsOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: ListBackendJobsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Removes all backend environments from your Amplify project.</p>
    public func removeAllBackends(input: RemoveAllBackendsInput, completion: @escaping (SdkResult<RemoveAllBackendsOutput, RemoveAllBackendsOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/remove"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "removeAllBackends")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<RemoveAllBackendsInput, RemoveAllBackendsOutput, RemoveAllBackendsOutputError>(id: "removeAllBackends")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: RemoveAllBackendsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: RemoveAllBackendsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<RemoveAllBackendsInput, RemoveAllBackendsOutput, RemoveAllBackendsOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: RemoveAllBackendsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Removes the AWS resources that are required to access the Amplify Admin UI.</p>
    public func removeBackendConfig(input: RemoveBackendConfigInput, completion: @escaping (SdkResult<RemoveBackendConfigOutput, RemoveBackendConfigOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/config/remove"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "removeBackendConfig")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<RemoveBackendConfigInput, RemoveBackendConfigOutput, RemoveBackendConfigOutputError>(id: "removeBackendConfig")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: RemoveBackendConfigInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: RemoveBackendConfigInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<RemoveBackendConfigInput, RemoveBackendConfigOutput, RemoveBackendConfigOutputError>(contentType: "application/json"))
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Updates an existing backend API resource.</p>
    public func updateBackendAPI(input: UpdateBackendAPIInput, completion: @escaping (SdkResult<UpdateBackendAPIOutput, UpdateBackendAPIOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/api/\(backendEnvironmentName)"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "updateBackendAPI")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<UpdateBackendAPIInput, UpdateBackendAPIOutput, UpdateBackendAPIOutputError>(id: "updateBackendAPI")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendAPIInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendAPIInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<UpdateBackendAPIInput, UpdateBackendAPIOutput, UpdateBackendAPIOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendAPIInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Updates an existing backend authentication resource.</p>
    public func updateBackendAuth(input: UpdateBackendAuthInput, completion: @escaping (SdkResult<UpdateBackendAuthOutput, UpdateBackendAuthOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/auth/\(backendEnvironmentName)"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "updateBackendAuth")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<UpdateBackendAuthInput, UpdateBackendAuthOutput, UpdateBackendAuthOutputError>(id: "updateBackendAuth")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendAuthInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendAuthInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<UpdateBackendAuthInput, UpdateBackendAuthOutput, UpdateBackendAuthOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendAuthInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Updates the AWS resources that are required to access the Amplify Admin UI.</p>
    public func updateBackendConfig(input: UpdateBackendConfigInput, completion: @escaping (SdkResult<UpdateBackendConfigOutput, UpdateBackendConfigOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/config/update"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "updateBackendConfig")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<UpdateBackendConfigInput, UpdateBackendConfigOutput, UpdateBackendConfigOutputError>(id: "updateBackendConfig")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendConfigInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendConfigInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<UpdateBackendConfigInput, UpdateBackendConfigOutput, UpdateBackendConfigOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendConfigInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Updates a specific job.</p>
    public func updateBackendJob(input: UpdateBackendJobInput, completion: @escaping (SdkResult<UpdateBackendJobOutput, UpdateBackendJobOutputError>) -> Void)
    {
        guard let appId = input.appId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component appId unexpectedly nil"))))
            return
        }
        guard let backendEnvironmentName = input.backendEnvironmentName else {
            completion(.failure(.client(ClientError.serializationFailed("uri component backendEnvironmentName unexpectedly nil"))))
            return
        }
        guard let jobId = input.jobId else {
            completion(.failure(.client(ClientError.serializationFailed("uri component jobId unexpectedly nil"))))
            return
        }
        let urlPath = "/backend/\(appId)/job/\(backendEnvironmentName)/\(jobId)"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "updateBackendJob")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "amplifybackend.\(config.region).amazonaws.com")
                      .withSigningName(value: "amplifybackend")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<UpdateBackendJobInput, UpdateBackendJobOutput, UpdateBackendJobOutputError>(id: "updateBackendJob")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendJobInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendJobInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<UpdateBackendJobInput, UpdateBackendJobOutput, UpdateBackendJobOutputError>(contentType: "application/json"))
        operation.serializeStep.intercept(position: .before, middleware: UpdateBackendJobInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

}
