// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension NodeSnapshot: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case cacheClusterId = "CacheClusterId"
        case cacheNodeCreateTime = "CacheNodeCreateTime"
        case cacheNodeId = "CacheNodeId"
        case cacheSize = "CacheSize"
        case nodeGroupConfiguration = "NodeGroupConfiguration"
        case nodeGroupId = "NodeGroupId"
        case snapshotCreateTime = "SnapshotCreateTime"
    }

    public func encode(to encoder: Encoder) throws {
        var container = encoder.container(keyedBy: Key.self)
        if let cacheClusterId = cacheClusterId {
            try container.encode(cacheClusterId, forKey: Key("CacheClusterId"))
        }
        if let cacheNodeCreateTime = cacheNodeCreateTime {
            try container.encode(TimestampWrapper(cacheNodeCreateTime, format: .dateTime), forKey: Key("cacheNodeCreateTime"))
        }
        if let cacheNodeId = cacheNodeId {
            try container.encode(cacheNodeId, forKey: Key("CacheNodeId"))
        }
        if let cacheSize = cacheSize {
            try container.encode(cacheSize, forKey: Key("CacheSize"))
        }
        if let nodeGroupConfiguration = nodeGroupConfiguration {
            try container.encode(nodeGroupConfiguration, forKey: Key("NodeGroupConfiguration"))
        }
        if let nodeGroupId = nodeGroupId {
            try container.encode(nodeGroupId, forKey: Key("NodeGroupId"))
        }
        if let snapshotCreateTime = snapshotCreateTime {
            try container.encode(TimestampWrapper(snapshotCreateTime, format: .dateTime), forKey: Key("snapshotCreateTime"))
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let cacheClusterIdDecoded = try containerValues.decodeIfPresent(String.self, forKey: .cacheClusterId)
        cacheClusterId = cacheClusterIdDecoded
        let nodeGroupIdDecoded = try containerValues.decodeIfPresent(String.self, forKey: .nodeGroupId)
        nodeGroupId = nodeGroupIdDecoded
        let cacheNodeIdDecoded = try containerValues.decodeIfPresent(String.self, forKey: .cacheNodeId)
        cacheNodeId = cacheNodeIdDecoded
        let nodeGroupConfigurationDecoded = try containerValues.decodeIfPresent(NodeGroupConfiguration.self, forKey: .nodeGroupConfiguration)
        nodeGroupConfiguration = nodeGroupConfigurationDecoded
        let cacheSizeDecoded = try containerValues.decodeIfPresent(String.self, forKey: .cacheSize)
        cacheSize = cacheSizeDecoded
        let cacheNodeCreateTimeDecoded = try containerValues.decodeIfPresent(String.self, forKey: .cacheNodeCreateTime)
        var cacheNodeCreateTimeBuffer:Date? = nil
        if let cacheNodeCreateTimeDecoded = cacheNodeCreateTimeDecoded {
            cacheNodeCreateTimeBuffer = try TimestampWrapperDecoder.parseDateStringValue(cacheNodeCreateTimeDecoded, format: .dateTime)
        }
        cacheNodeCreateTime = cacheNodeCreateTimeBuffer
        let snapshotCreateTimeDecoded = try containerValues.decodeIfPresent(String.self, forKey: .snapshotCreateTime)
        var snapshotCreateTimeBuffer:Date? = nil
        if let snapshotCreateTimeDecoded = snapshotCreateTimeDecoded {
            snapshotCreateTimeBuffer = try TimestampWrapperDecoder.parseDateStringValue(snapshotCreateTimeDecoded, format: .dateTime)
        }
        snapshotCreateTime = snapshotCreateTimeBuffer
    }
}
