// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension Vulnerability: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case cvss = "Cvss"
        case id = "Id"
        case referenceUrls = "ReferenceUrls"
        case relatedVulnerabilities = "RelatedVulnerabilities"
        case vendor = "Vendor"
        case vulnerablePackages = "VulnerablePackages"
    }

    public func encode(to encoder: Encoder) throws {
        var encodeContainer = encoder.container(keyedBy: CodingKeys.self)
        if let cvss = cvss {
            var cvssContainer = encodeContainer.nestedUnkeyedContainer(forKey: .cvss)
            for cvsslist0 in cvss {
                try cvssContainer.encode(cvsslist0)
            }
        }
        if let id = id {
            try encodeContainer.encode(id, forKey: .id)
        }
        if let referenceUrls = referenceUrls {
            var referenceUrlsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .referenceUrls)
            for stringlist0 in referenceUrls {
                try referenceUrlsContainer.encode(stringlist0)
            }
        }
        if let relatedVulnerabilities = relatedVulnerabilities {
            var relatedVulnerabilitiesContainer = encodeContainer.nestedUnkeyedContainer(forKey: .relatedVulnerabilities)
            for stringlist0 in relatedVulnerabilities {
                try relatedVulnerabilitiesContainer.encode(stringlist0)
            }
        }
        if let vendor = vendor {
            try encodeContainer.encode(vendor, forKey: .vendor)
        }
        if let vulnerablePackages = vulnerablePackages {
            var vulnerablePackagesContainer = encodeContainer.nestedUnkeyedContainer(forKey: .vulnerablePackages)
            for softwarepackagelist0 in vulnerablePackages {
                try vulnerablePackagesContainer.encode(softwarepackagelist0)
            }
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let idDecoded = try containerValues.decodeIfPresent(String.self, forKey: .id)
        id = idDecoded
        let vulnerablePackagesContainer = try containerValues.decodeIfPresent([SoftwarePackage].self, forKey: .vulnerablePackages)
        var vulnerablePackagesDecoded0:[SoftwarePackage]? = nil
        if let vulnerablePackagesContainer = vulnerablePackagesContainer {
            vulnerablePackagesDecoded0 = [SoftwarePackage]()
            for structure0 in vulnerablePackagesContainer {
                vulnerablePackagesDecoded0?.append(structure0)
            }
        }
        vulnerablePackages = vulnerablePackagesDecoded0
        let cvssContainer = try containerValues.decodeIfPresent([Cvss].self, forKey: .cvss)
        var cvssDecoded0:[Cvss]? = nil
        if let cvssContainer = cvssContainer {
            cvssDecoded0 = [Cvss]()
            for structure0 in cvssContainer {
                cvssDecoded0?.append(structure0)
            }
        }
        cvss = cvssDecoded0
        let relatedVulnerabilitiesContainer = try containerValues.decodeIfPresent([String].self, forKey: .relatedVulnerabilities)
        var relatedVulnerabilitiesDecoded0:[String]? = nil
        if let relatedVulnerabilitiesContainer = relatedVulnerabilitiesContainer {
            relatedVulnerabilitiesDecoded0 = [String]()
            for string0 in relatedVulnerabilitiesContainer {
                relatedVulnerabilitiesDecoded0?.append(string0)
            }
        }
        relatedVulnerabilities = relatedVulnerabilitiesDecoded0
        let vendorDecoded = try containerValues.decodeIfPresent(VulnerabilityVendor.self, forKey: .vendor)
        vendor = vendorDecoded
        let referenceUrlsContainer = try containerValues.decodeIfPresent([String].self, forKey: .referenceUrls)
        var referenceUrlsDecoded0:[String]? = nil
        if let referenceUrlsContainer = referenceUrlsContainer {
            referenceUrlsDecoded0 = [String]()
            for string0 in referenceUrlsContainer {
                referenceUrlsDecoded0?.append(string0)
            }
        }
        referenceUrls = referenceUrlsDecoded0
    }
}
