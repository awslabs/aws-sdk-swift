// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension TimeSeriesServiceStatistics: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case edgeSummaryStatistics = "EdgeSummaryStatistics"
        case responseTimeHistogram = "ResponseTimeHistogram"
        case serviceForecastStatistics = "ServiceForecastStatistics"
        case serviceSummaryStatistics = "ServiceSummaryStatistics"
        case timestamp = "Timestamp"
    }

    public func encode(to encoder: Encoder) throws {
        var encodeContainer = encoder.container(keyedBy: CodingKeys.self)
        if let edgeSummaryStatistics = edgeSummaryStatistics {
            try encodeContainer.encode(edgeSummaryStatistics, forKey: .edgeSummaryStatistics)
        }
        if let responseTimeHistogram = responseTimeHistogram {
            var responseTimeHistogramContainer = encodeContainer.nestedUnkeyedContainer(forKey: .responseTimeHistogram)
            for histogram0 in responseTimeHistogram {
                try responseTimeHistogramContainer.encode(histogram0)
            }
        }
        if let serviceForecastStatistics = serviceForecastStatistics {
            try encodeContainer.encode(serviceForecastStatistics, forKey: .serviceForecastStatistics)
        }
        if let serviceSummaryStatistics = serviceSummaryStatistics {
            try encodeContainer.encode(serviceSummaryStatistics, forKey: .serviceSummaryStatistics)
        }
        if let timestamp = timestamp {
            try encodeContainer.encode(timestamp.timeIntervalSince1970, forKey: .timestamp)
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let timestampDecoded = try containerValues.decodeIfPresent(Date.self, forKey: .timestamp)
        timestamp = timestampDecoded
        let edgeSummaryStatisticsDecoded = try containerValues.decodeIfPresent(EdgeStatistics.self, forKey: .edgeSummaryStatistics)
        edgeSummaryStatistics = edgeSummaryStatisticsDecoded
        let serviceSummaryStatisticsDecoded = try containerValues.decodeIfPresent(ServiceStatistics.self, forKey: .serviceSummaryStatistics)
        serviceSummaryStatistics = serviceSummaryStatisticsDecoded
        let serviceForecastStatisticsDecoded = try containerValues.decodeIfPresent(ForecastStatistics.self, forKey: .serviceForecastStatistics)
        serviceForecastStatistics = serviceForecastStatisticsDecoded
        let responseTimeHistogramContainer = try containerValues.decodeIfPresent([HistogramEntry].self, forKey: .responseTimeHistogram)
        var responseTimeHistogramDecoded0:[HistogramEntry]? = nil
        if let responseTimeHistogramContainer = responseTimeHistogramContainer {
            responseTimeHistogramDecoded0 = [HistogramEntry]()
            for structure0 in responseTimeHistogramContainer {
                responseTimeHistogramDecoded0?.append(structure0)
            }
        }
        responseTimeHistogram = responseTimeHistogramDecoded0
    }
}
