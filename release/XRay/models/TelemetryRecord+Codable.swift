// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension TelemetryRecord: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case backendConnectionErrors = "BackendConnectionErrors"
        case segmentsReceivedCount = "SegmentsReceivedCount"
        case segmentsRejectedCount = "SegmentsRejectedCount"
        case segmentsSentCount = "SegmentsSentCount"
        case segmentsSpilloverCount = "SegmentsSpilloverCount"
        case timestamp = "Timestamp"
    }

    public func encode(to encoder: Encoder) throws {
        var encodeContainer = encoder.container(keyedBy: CodingKeys.self)
        if let backendConnectionErrors = backendConnectionErrors {
            try encodeContainer.encode(backendConnectionErrors, forKey: .backendConnectionErrors)
        }
        if let segmentsReceivedCount = segmentsReceivedCount {
            try encodeContainer.encode(segmentsReceivedCount, forKey: .segmentsReceivedCount)
        }
        if let segmentsRejectedCount = segmentsRejectedCount {
            try encodeContainer.encode(segmentsRejectedCount, forKey: .segmentsRejectedCount)
        }
        if let segmentsSentCount = segmentsSentCount {
            try encodeContainer.encode(segmentsSentCount, forKey: .segmentsSentCount)
        }
        if let segmentsSpilloverCount = segmentsSpilloverCount {
            try encodeContainer.encode(segmentsSpilloverCount, forKey: .segmentsSpilloverCount)
        }
        if let timestamp = timestamp {
            try encodeContainer.encode(timestamp.timeIntervalSince1970, forKey: .timestamp)
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let timestampDecoded = try containerValues.decodeIfPresent(Date.self, forKey: .timestamp)
        timestamp = timestampDecoded
        let segmentsReceivedCountDecoded = try containerValues.decodeIfPresent(Int.self, forKey: .segmentsReceivedCount)
        segmentsReceivedCount = segmentsReceivedCountDecoded
        let segmentsSentCountDecoded = try containerValues.decodeIfPresent(Int.self, forKey: .segmentsSentCount)
        segmentsSentCount = segmentsSentCountDecoded
        let segmentsSpilloverCountDecoded = try containerValues.decodeIfPresent(Int.self, forKey: .segmentsSpilloverCount)
        segmentsSpilloverCount = segmentsSpilloverCountDecoded
        let segmentsRejectedCountDecoded = try containerValues.decodeIfPresent(Int.self, forKey: .segmentsRejectedCount)
        segmentsRejectedCount = segmentsRejectedCountDecoded
        let backendConnectionErrorsDecoded = try containerValues.decodeIfPresent(BackendConnectionErrors.self, forKey: .backendConnectionErrors)
        backendConnectionErrors = backendConnectionErrorsDecoded
    }
}
