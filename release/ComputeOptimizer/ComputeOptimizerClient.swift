// Code generated by smithy-swift-codegen. DO NOT EDIT!

import AWSClientRuntime
import ClientRuntime
import Foundation

public class ComputeOptimizerClient {
    let client: SdkHttpClient
    let config: ComputeOptimizerClientConfiguration
    let serviceName = "Compute Optimizer"
    let encoder: RequestEncoder
    let decoder: ResponseDecoder

    public init(config: ComputeOptimizerClientConfiguration) {
        client = SdkHttpClient(engine: config.httpClientEngine, config: config.httpClientConfiguration)
        let encoder = JSONEncoder()
        encoder.dateEncodingStrategy = .secondsSince1970
        self.encoder = config.encoder ?? encoder
        let decoder = JSONDecoder()
        decoder.dateDecodingStrategy = .secondsSince1970
        self.decoder = config.decoder ?? decoder
        self.config = config
    }

    public class ComputeOptimizerClientConfiguration: ClientRuntime.Configuration, AWSClientConfiguration {

        public var region: String
        public var credentialsProvider: AWSCredentialsProvider
        public var signingRegion: String
        public var endpointResolver: EndpointResolver

        public init (
            credentialsProvider: AWSCredentialsProvider,
            endpointResolver: EndpointResolver,
            region: String,
            signingRegion: String
        ) throws
        {
            self.credentialsProvider = credentialsProvider
            self.endpointResolver = endpointResolver
            self.region = region
            self.signingRegion = signingRegion
        }

        public convenience init(credentialsProvider: AWSCredentialsProvider) throws {
            let region = "us-east-1"
            let signingRegion = "us-east-1"
            let endpointResolver = DefaultEndpointResolver()
            try self.init(
                credentialsProvider: credentialsProvider,
                endpointResolver: endpointResolver,
                region: region,
                signingRegion: signingRegion
            )
        }

        public static func `default`() throws -> ComputeOptimizerClientConfiguration {
            let awsCredsProvider = try AWSCredentialsProvider.fromEnv()
            return try ComputeOptimizerClientConfiguration(credentialsProvider: awsCredsProvider)
        }
    }
}

extension ComputeOptimizerClient: ComputeOptimizerClientProtocol {
    /// <p>Describes recommendation export jobs created in the last seven days.</p>
    ///
    ///         <p>Use the <code>ExportAutoScalingGroupRecommendations</code> or
    ///                 <code>ExportEC2InstanceRecommendations</code> actions to request an export of your
    ///             recommendations. Then use the <code>DescribeRecommendationExportJobs</code> action to
    ///             view your export jobs.</p>
    public func describeRecommendationExportJobs(input: DescribeRecommendationExportJobsInput, completion: @escaping (SdkResult<DescribeRecommendationExportJobsOutput, DescribeRecommendationExportJobsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "describeRecommendationExportJobs")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<DescribeRecommendationExportJobsInput, DescribeRecommendationExportJobsOutput, DescribeRecommendationExportJobsOutputError>(id: "describeRecommendationExportJobs")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: DescribeRecommendationExportJobsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: DescribeRecommendationExportJobsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<DescribeRecommendationExportJobsInput, DescribeRecommendationExportJobsOutput, DescribeRecommendationExportJobsOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: DescribeRecommendationExportJobsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<DescribeRecommendationExportJobsInput, DescribeRecommendationExportJobsOutput, DescribeRecommendationExportJobsOutputError>(xAmzTarget: "ComputeOptimizerService.DescribeRecommendationExportJobs"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Exports optimization recommendations for Auto Scaling groups.</p>
    ///
    ///         <p>Recommendations are exported in a comma-separated values (.csv) file, and its metadata
    ///             in a JavaScript Object Notation (.json) file, to an existing Amazon Simple Storage Service (Amazon S3) bucket that
    ///             you specify. For more information, see <a href="https://docs.aws.amazon.com/compute-optimizer/latest/ug/exporting-recommendations.html">Exporting
    ///                 Recommendations</a> in the <i>Compute Optimizer User Guide</i>.</p>
    ///
    ///         <p>You can have only one Auto Scaling group export job in progress per AWS
    ///             Region.</p>
    public func exportAutoScalingGroupRecommendations(input: ExportAutoScalingGroupRecommendationsInput, completion: @escaping (SdkResult<ExportAutoScalingGroupRecommendationsOutput, ExportAutoScalingGroupRecommendationsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "exportAutoScalingGroupRecommendations")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ExportAutoScalingGroupRecommendationsInput, ExportAutoScalingGroupRecommendationsOutput, ExportAutoScalingGroupRecommendationsOutputError>(id: "exportAutoScalingGroupRecommendations")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ExportAutoScalingGroupRecommendationsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ExportAutoScalingGroupRecommendationsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ExportAutoScalingGroupRecommendationsInput, ExportAutoScalingGroupRecommendationsOutput, ExportAutoScalingGroupRecommendationsOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: ExportAutoScalingGroupRecommendationsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<ExportAutoScalingGroupRecommendationsInput, ExportAutoScalingGroupRecommendationsOutput, ExportAutoScalingGroupRecommendationsOutputError>(xAmzTarget: "ComputeOptimizerService.ExportAutoScalingGroupRecommendations"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Exports optimization recommendations for Amazon EBS volumes.</p>
    ///
    ///         <p>Recommendations are exported in a comma-separated values (.csv) file, and its metadata
    ///             in a JavaScript Object Notation (.json) file, to an existing Amazon Simple Storage Service (Amazon S3) bucket that
    ///             you specify. For more information, see <a href="https://docs.aws.amazon.com/compute-optimizer/latest/ug/exporting-recommendations.html">Exporting
    ///                 Recommendations</a> in the <i>Compute Optimizer User Guide</i>.</p>
    ///
    ///         <p>You can have only one Amazon EBS volume export job in progress per AWS
    ///             Region.</p>
    public func exportEBSVolumeRecommendations(input: ExportEBSVolumeRecommendationsInput, completion: @escaping (SdkResult<ExportEBSVolumeRecommendationsOutput, ExportEBSVolumeRecommendationsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "exportEBSVolumeRecommendations")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ExportEBSVolumeRecommendationsInput, ExportEBSVolumeRecommendationsOutput, ExportEBSVolumeRecommendationsOutputError>(id: "exportEBSVolumeRecommendations")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ExportEBSVolumeRecommendationsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ExportEBSVolumeRecommendationsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ExportEBSVolumeRecommendationsInput, ExportEBSVolumeRecommendationsOutput, ExportEBSVolumeRecommendationsOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: ExportEBSVolumeRecommendationsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<ExportEBSVolumeRecommendationsInput, ExportEBSVolumeRecommendationsOutput, ExportEBSVolumeRecommendationsOutputError>(xAmzTarget: "ComputeOptimizerService.ExportEBSVolumeRecommendations"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Exports optimization recommendations for Amazon EC2 instances.</p>
    ///
    ///         <p>Recommendations are exported in a comma-separated values (.csv) file, and its metadata
    ///             in a JavaScript Object Notation (.json) file, to an existing Amazon Simple Storage Service (Amazon S3) bucket that
    ///             you specify. For more information, see <a href="https://docs.aws.amazon.com/compute-optimizer/latest/ug/exporting-recommendations.html">Exporting
    ///                 Recommendations</a> in the <i>Compute Optimizer User Guide</i>.</p>
    ///
    ///         <p>You can have only one Amazon EC2 instance export job in progress per AWS
    ///             Region.</p>
    public func exportEC2InstanceRecommendations(input: ExportEC2InstanceRecommendationsInput, completion: @escaping (SdkResult<ExportEC2InstanceRecommendationsOutput, ExportEC2InstanceRecommendationsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "exportEC2InstanceRecommendations")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ExportEC2InstanceRecommendationsInput, ExportEC2InstanceRecommendationsOutput, ExportEC2InstanceRecommendationsOutputError>(id: "exportEC2InstanceRecommendations")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ExportEC2InstanceRecommendationsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ExportEC2InstanceRecommendationsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ExportEC2InstanceRecommendationsInput, ExportEC2InstanceRecommendationsOutput, ExportEC2InstanceRecommendationsOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: ExportEC2InstanceRecommendationsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<ExportEC2InstanceRecommendationsInput, ExportEC2InstanceRecommendationsOutput, ExportEC2InstanceRecommendationsOutputError>(xAmzTarget: "ComputeOptimizerService.ExportEC2InstanceRecommendations"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Exports optimization recommendations for AWS Lambda functions.</p>
    ///
    ///
    ///
    ///         <p>Recommendations are exported in a comma-separated values (.csv) file, and its metadata
    ///             in a JavaScript Object Notation (.json) file, to an existing Amazon Simple Storage Service (Amazon S3) bucket that
    ///             you specify. For more information, see <a href="https://docs.aws.amazon.com/compute-optimizer/latest/ug/exporting-recommendations.html">Exporting
    ///                 Recommendations</a> in the <i>Compute Optimizer User Guide</i>.</p>
    ///
    ///         <p>You can have only one Lambda function export job in progress per AWS
    ///             Region.</p>
    public func exportLambdaFunctionRecommendations(input: ExportLambdaFunctionRecommendationsInput, completion: @escaping (SdkResult<ExportLambdaFunctionRecommendationsOutput, ExportLambdaFunctionRecommendationsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "exportLambdaFunctionRecommendations")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<ExportLambdaFunctionRecommendationsInput, ExportLambdaFunctionRecommendationsOutput, ExportLambdaFunctionRecommendationsOutputError>(id: "exportLambdaFunctionRecommendations")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: ExportLambdaFunctionRecommendationsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ExportLambdaFunctionRecommendationsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<ExportLambdaFunctionRecommendationsInput, ExportLambdaFunctionRecommendationsOutput, ExportLambdaFunctionRecommendationsOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: ExportLambdaFunctionRecommendationsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<ExportLambdaFunctionRecommendationsInput, ExportLambdaFunctionRecommendationsOutput, ExportLambdaFunctionRecommendationsOutputError>(xAmzTarget: "ComputeOptimizerService.ExportLambdaFunctionRecommendations"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns Auto Scaling group recommendations.</p>
    ///
    ///         <p>AWS Compute Optimizer generates recommendations for Amazon EC2 Auto Scaling groups that meet a specific
    ///             set of requirements. For more information, see the <a href="https://docs.aws.amazon.com/compute-optimizer/latest/ug/requirements.html">Supported resources and
    ///                 requirements</a> in the <i>AWS Compute Optimizer User Guide</i>.</p>
    public func getAutoScalingGroupRecommendations(input: GetAutoScalingGroupRecommendationsInput, completion: @escaping (SdkResult<GetAutoScalingGroupRecommendationsOutput, GetAutoScalingGroupRecommendationsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getAutoScalingGroupRecommendations")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetAutoScalingGroupRecommendationsInput, GetAutoScalingGroupRecommendationsOutput, GetAutoScalingGroupRecommendationsOutputError>(id: "getAutoScalingGroupRecommendations")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetAutoScalingGroupRecommendationsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetAutoScalingGroupRecommendationsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetAutoScalingGroupRecommendationsInput, GetAutoScalingGroupRecommendationsOutput, GetAutoScalingGroupRecommendationsOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: GetAutoScalingGroupRecommendationsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<GetAutoScalingGroupRecommendationsInput, GetAutoScalingGroupRecommendationsOutput, GetAutoScalingGroupRecommendationsOutputError>(xAmzTarget: "ComputeOptimizerService.GetAutoScalingGroupRecommendations"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns Amazon Elastic Block Store (Amazon EBS) volume recommendations.</p>
    ///
    ///         <p>AWS Compute Optimizer generates recommendations for Amazon EBS volumes that meet a specific
    ///             set of requirements. For more information, see the <a href="https://docs.aws.amazon.com/compute-optimizer/latest/ug/requirements.html">Supported resources and
    ///                 requirements</a> in the <i>AWS Compute Optimizer User Guide</i>.</p>
    public func getEBSVolumeRecommendations(input: GetEBSVolumeRecommendationsInput, completion: @escaping (SdkResult<GetEBSVolumeRecommendationsOutput, GetEBSVolumeRecommendationsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getEBSVolumeRecommendations")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetEBSVolumeRecommendationsInput, GetEBSVolumeRecommendationsOutput, GetEBSVolumeRecommendationsOutputError>(id: "getEBSVolumeRecommendations")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetEBSVolumeRecommendationsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetEBSVolumeRecommendationsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetEBSVolumeRecommendationsInput, GetEBSVolumeRecommendationsOutput, GetEBSVolumeRecommendationsOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: GetEBSVolumeRecommendationsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<GetEBSVolumeRecommendationsInput, GetEBSVolumeRecommendationsOutput, GetEBSVolumeRecommendationsOutputError>(xAmzTarget: "ComputeOptimizerService.GetEBSVolumeRecommendations"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns Amazon EC2 instance recommendations.</p>
    ///
    ///         <p>AWS Compute Optimizer generates recommendations for Amazon Elastic Compute Cloud (Amazon EC2) instances that meet
    ///             a specific set of requirements. For more information, see the <a href="https://docs.aws.amazon.com/compute-optimizer/latest/ug/requirements.html">Supported
    ///                 resources and requirements</a> in the <i>AWS Compute Optimizer User
    ///             Guide</i>.</p>
    public func getEC2InstanceRecommendations(input: GetEC2InstanceRecommendationsInput, completion: @escaping (SdkResult<GetEC2InstanceRecommendationsOutput, GetEC2InstanceRecommendationsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getEC2InstanceRecommendations")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetEC2InstanceRecommendationsInput, GetEC2InstanceRecommendationsOutput, GetEC2InstanceRecommendationsOutputError>(id: "getEC2InstanceRecommendations")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetEC2InstanceRecommendationsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetEC2InstanceRecommendationsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetEC2InstanceRecommendationsInput, GetEC2InstanceRecommendationsOutput, GetEC2InstanceRecommendationsOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: GetEC2InstanceRecommendationsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<GetEC2InstanceRecommendationsInput, GetEC2InstanceRecommendationsOutput, GetEC2InstanceRecommendationsOutputError>(xAmzTarget: "ComputeOptimizerService.GetEC2InstanceRecommendations"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns the projected utilization metrics of Amazon EC2 instance recommendations.</p>
    ///
    ///         <note>
    ///             <p>The <code>Cpu</code> and <code>Memory</code> metrics are the only projected
    ///                 utilization metrics returned when you run this action. Additionally, the
    ///                     <code>Memory</code> metric is returned only for resources that have the unified
    ///                 CloudWatch agent installed on them. For more information, see <a href="https://docs.aws.amazon.com/compute-optimizer/latest/ug/metrics.html#cw-agent">Enabling Memory
    ///                     Utilization with the CloudWatch Agent</a>.</p>
    ///         </note>
    public func getEC2RecommendationProjectedMetrics(input: GetEC2RecommendationProjectedMetricsInput, completion: @escaping (SdkResult<GetEC2RecommendationProjectedMetricsOutput, GetEC2RecommendationProjectedMetricsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getEC2RecommendationProjectedMetrics")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetEC2RecommendationProjectedMetricsInput, GetEC2RecommendationProjectedMetricsOutput, GetEC2RecommendationProjectedMetricsOutputError>(id: "getEC2RecommendationProjectedMetrics")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetEC2RecommendationProjectedMetricsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetEC2RecommendationProjectedMetricsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetEC2RecommendationProjectedMetricsInput, GetEC2RecommendationProjectedMetricsOutput, GetEC2RecommendationProjectedMetricsOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: GetEC2RecommendationProjectedMetricsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<GetEC2RecommendationProjectedMetricsInput, GetEC2RecommendationProjectedMetricsOutput, GetEC2RecommendationProjectedMetricsOutputError>(xAmzTarget: "ComputeOptimizerService.GetEC2RecommendationProjectedMetrics"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns the enrollment (opt in) status of an account to the AWS Compute Optimizer
    ///             service.</p>
    ///
    ///
    ///
    ///         <p>If the account is the management account of an organization, this action also confirms
    ///             the enrollment status of member accounts within the organization.</p>
    public func getEnrollmentStatus(input: GetEnrollmentStatusInput, completion: @escaping (SdkResult<GetEnrollmentStatusOutput, GetEnrollmentStatusOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getEnrollmentStatus")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetEnrollmentStatusInput, GetEnrollmentStatusOutput, GetEnrollmentStatusOutputError>(id: "getEnrollmentStatus")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetEnrollmentStatusInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetEnrollmentStatusInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetEnrollmentStatusInput, GetEnrollmentStatusOutput, GetEnrollmentStatusOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<GetEnrollmentStatusInput, GetEnrollmentStatusOutput, GetEnrollmentStatusOutputError>(xAmzTarget: "ComputeOptimizerService.GetEnrollmentStatus"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns AWS Lambda function recommendations.</p>
    ///
    ///
    ///
    ///         <p>AWS Compute Optimizer generates recommendations for functions that meet a specific set of
    ///             requirements. For more information, see the <a href="https://docs.aws.amazon.com/compute-optimizer/latest/ug/requirements.html">Supported resources and
    ///                 requirements</a> in the <i>AWS Compute Optimizer User Guide</i>.</p>
    public func getLambdaFunctionRecommendations(input: GetLambdaFunctionRecommendationsInput, completion: @escaping (SdkResult<GetLambdaFunctionRecommendationsOutput, GetLambdaFunctionRecommendationsOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getLambdaFunctionRecommendations")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetLambdaFunctionRecommendationsInput, GetLambdaFunctionRecommendationsOutput, GetLambdaFunctionRecommendationsOutputError>(id: "getLambdaFunctionRecommendations")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetLambdaFunctionRecommendationsInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetLambdaFunctionRecommendationsInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetLambdaFunctionRecommendationsInput, GetLambdaFunctionRecommendationsOutput, GetLambdaFunctionRecommendationsOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: GetLambdaFunctionRecommendationsInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<GetLambdaFunctionRecommendationsInput, GetLambdaFunctionRecommendationsOutput, GetLambdaFunctionRecommendationsOutputError>(xAmzTarget: "ComputeOptimizerService.GetLambdaFunctionRecommendations"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Returns the optimization findings for an account.</p>
    ///         <p>It returns the number of:</p>
    ///         <ul>
    ///             <li>
    ///                 <p>Amazon EC2 instances in an account that are <code>Underprovisioned</code>,
    ///                         <code>Overprovisioned</code>, or <code>Optimized</code>.</p>
    ///             </li>
    ///             <li>
    ///                 <p>Auto Scaling groups in an account that are <code>NotOptimized</code>, or
    ///                         <code>Optimized</code>.</p>
    ///             </li>
    ///             <li>
    ///                 <p>Amazon EBS volumes in an account that are <code>NotOptimized</code>, or
    ///                         <code>Optimized</code>.</p>
    ///             </li>
    ///             <li>
    ///                 <p>Lambda functions in an account that are <code>NotOptimized</code>, or
    ///                         <code>Optimized</code>.</p>
    ///             </li>
    ///          </ul>
    public func getRecommendationSummaries(input: GetRecommendationSummariesInput, completion: @escaping (SdkResult<GetRecommendationSummariesOutput, GetRecommendationSummariesOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "getRecommendationSummaries")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<GetRecommendationSummariesInput, GetRecommendationSummariesOutput, GetRecommendationSummariesOutputError>(id: "getRecommendationSummaries")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: GetRecommendationSummariesInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: GetRecommendationSummariesInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<GetRecommendationSummariesInput, GetRecommendationSummariesOutput, GetRecommendationSummariesOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: GetRecommendationSummariesInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<GetRecommendationSummariesInput, GetRecommendationSummariesOutput, GetRecommendationSummariesOutputError>(xAmzTarget: "ComputeOptimizerService.GetRecommendationSummaries"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

    /// <p>Updates the enrollment (opt in and opt out) status of an account to the
    ///             AWS Compute Optimizer service.</p>
    ///
    ///
    ///
    ///         <p>If the account is a management account of an organization, this action can also be used
    ///             to enroll member accounts within the organization.</p>
    ///
    ///         <p>You must have the appropriate permissions to opt in to Compute Optimizer, to view its
    ///             recommendations, and to opt out. For more information, see <a href="https://docs.aws.amazon.com/compute-optimizer/latest/ug/security-iam.html">Controlling access with AWS
    ///                 Identity and Access Management</a> in the <i>AWS Compute Optimizer User
    ///                 Guide</i>.</p>
    ///
    ///
    ///
    ///         <p>When you opt in, Compute Optimizer automatically creates a Service-Linked Role in your
    ///             account to access its data. For more information, see <a href="https://docs.aws.amazon.com/compute-optimizer/latest/ug/using-service-linked-roles.html">Using
    ///                 Service-Linked Roles for AWS Compute Optimizer</a> in the <i>AWS Compute Optimizer User
    ///                 Guide</i>.</p>
    public func updateEnrollmentStatus(input: UpdateEnrollmentStatusInput, completion: @escaping (SdkResult<UpdateEnrollmentStatusOutput, UpdateEnrollmentStatusOutputError>) -> Void)
    {
        let urlPath = "/"
        let context = HttpContextBuilder()
                      .withEncoder(value: encoder)
                      .withDecoder(value: decoder)
                      .withMethod(value: .post)
                      .withPath(value: urlPath)
                      .withServiceName(value: serviceName)
                      .withOperation(value: "updateEnrollmentStatus")
                      .withIdempotencyTokenGenerator(value: config.idempotencyTokenGenerator)
                      .withLogger(value: config.logger)
                      .withCredentialsProvider(value: config.credentialsProvider)
                      .withRegion(value: config.region)
                      .withHost(value: "compute-optimizer.\(config.region).amazonaws.com")
                      .withSigningName(value: "compute-optimizer")
                      .withSigningRegion(value: config.signingRegion)
        var operation = OperationStack<UpdateEnrollmentStatusInput, UpdateEnrollmentStatusOutput, UpdateEnrollmentStatusOutputError>(id: "updateEnrollmentStatus")
        operation.addDefaultOperationMiddlewares()
        operation.serializeStep.intercept(position: .before, middleware: UpdateEnrollmentStatusInputHeadersMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: UpdateEnrollmentStatusInputQueryItemMiddleware())
        operation.serializeStep.intercept(position: .before, middleware: ContentTypeMiddleware<UpdateEnrollmentStatusInput, UpdateEnrollmentStatusOutput, UpdateEnrollmentStatusOutputError>(contentType: "application/x-amz-json-1.0"))
        operation.serializeStep.intercept(position: .before, middleware: UpdateEnrollmentStatusInputBodyMiddleware())
        operation.deserializeStep.intercept(position: .before, middleware: LoggerMiddleware(clientLogMode: config.clientLogMode))
        operation.buildStep.intercept(position: .before, middleware: EndpointResolverMiddleware(endpointResolver: config.endpointResolver, serviceId: serviceName))
        operation.finalizeStep.intercept(position: .after, middleware: RetrierMiddleware(retrier: config.retrier))
        let sigv4Config = SigV4Config(unsignedBody: false)
        operation.finalizeStep.intercept(position: .before,
                                                 middleware: SigV4Middleware(config: sigv4Config))
        operation.buildStep.intercept(position: .before, middleware: UserAgentMiddleware(metadata: AWSUserAgentMetadata.fromEnv(apiMetadata: APIMetadata(serviceId: serviceName, version: "1.0"))))
        operation.serializeStep.intercept(position: .before, middleware: XAmzTargetMiddleware<UpdateEnrollmentStatusInput, UpdateEnrollmentStatusOutput, UpdateEnrollmentStatusOutputError>(xAmzTarget: "ComputeOptimizerService.UpdateEnrollmentStatus"))
        let result = operation.handleMiddleware(context: context.build(), input: input, next: client.getHandler())
        completion(result)
    }

}
