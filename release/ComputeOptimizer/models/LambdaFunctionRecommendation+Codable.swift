// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension LambdaFunctionRecommendation: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case accountId
        case currentMemorySize
        case finding
        case findingReasonCodes
        case functionArn
        case functionVersion
        case lastRefreshTimestamp
        case lookbackPeriodInDays
        case memorySizeRecommendationOptions
        case numberOfInvocations
        case utilizationMetrics
    }

    public func encode(to encoder: Encoder) throws {
        var encodeContainer = encoder.container(keyedBy: CodingKeys.self)
        if let accountId = accountId {
            try encodeContainer.encode(accountId, forKey: .accountId)
        }
        if currentMemorySize != 0 {
            try encodeContainer.encode(currentMemorySize, forKey: .currentMemorySize)
        }
        if let finding = finding {
            try encodeContainer.encode(finding.rawValue, forKey: .finding)
        }
        if let findingReasonCodes = findingReasonCodes {
            var findingReasonCodesContainer = encodeContainer.nestedUnkeyedContainer(forKey: .findingReasonCodes)
            for lambdafunctionrecommendationfindingreasoncodes0 in findingReasonCodes {
                try findingReasonCodesContainer.encode(lambdafunctionrecommendationfindingreasoncodes0.rawValue)
            }
        }
        if let functionArn = functionArn {
            try encodeContainer.encode(functionArn, forKey: .functionArn)
        }
        if let functionVersion = functionVersion {
            try encodeContainer.encode(functionVersion, forKey: .functionVersion)
        }
        if let lastRefreshTimestamp = lastRefreshTimestamp {
            try encodeContainer.encode(lastRefreshTimestamp.timeIntervalSince1970, forKey: .lastRefreshTimestamp)
        }
        if lookbackPeriodInDays != 0.0 {
            try encodeContainer.encode(lookbackPeriodInDays, forKey: .lookbackPeriodInDays)
        }
        if let memorySizeRecommendationOptions = memorySizeRecommendationOptions {
            var memorySizeRecommendationOptionsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .memorySizeRecommendationOptions)
            for lambdafunctionmemoryrecommendationoptions0 in memorySizeRecommendationOptions {
                try memorySizeRecommendationOptionsContainer.encode(lambdafunctionmemoryrecommendationoptions0)
            }
        }
        if numberOfInvocations != 0 {
            try encodeContainer.encode(numberOfInvocations, forKey: .numberOfInvocations)
        }
        if let utilizationMetrics = utilizationMetrics {
            var utilizationMetricsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .utilizationMetrics)
            for lambdafunctionutilizationmetrics0 in utilizationMetrics {
                try utilizationMetricsContainer.encode(lambdafunctionutilizationmetrics0)
            }
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let functionArnDecoded = try containerValues.decodeIfPresent(String.self, forKey: .functionArn)
        functionArn = functionArnDecoded
        let functionVersionDecoded = try containerValues.decodeIfPresent(String.self, forKey: .functionVersion)
        functionVersion = functionVersionDecoded
        let accountIdDecoded = try containerValues.decodeIfPresent(String.self, forKey: .accountId)
        accountId = accountIdDecoded
        let currentMemorySizeDecoded = try containerValues.decode(Int.self, forKey: .currentMemorySize)
        currentMemorySize = currentMemorySizeDecoded
        let numberOfInvocationsDecoded = try containerValues.decode(Int.self, forKey: .numberOfInvocations)
        numberOfInvocations = numberOfInvocationsDecoded
        let utilizationMetricsContainer = try containerValues.decodeIfPresent([LambdaFunctionUtilizationMetric].self, forKey: .utilizationMetrics)
        var utilizationMetricsDecoded0:[LambdaFunctionUtilizationMetric]? = nil
        if let utilizationMetricsContainer = utilizationMetricsContainer {
            utilizationMetricsDecoded0 = [LambdaFunctionUtilizationMetric]()
            for structure0 in utilizationMetricsContainer {
                utilizationMetricsDecoded0?.append(structure0)
            }
        }
        utilizationMetrics = utilizationMetricsDecoded0
        let lookbackPeriodInDaysDecoded = try containerValues.decode(Double.self, forKey: .lookbackPeriodInDays)
        lookbackPeriodInDays = lookbackPeriodInDaysDecoded
        let lastRefreshTimestampDecoded = try containerValues.decodeIfPresent(Date.self, forKey: .lastRefreshTimestamp)
        lastRefreshTimestamp = lastRefreshTimestampDecoded
        let findingDecoded = try containerValues.decodeIfPresent(LambdaFunctionRecommendationFinding.self, forKey: .finding)
        finding = findingDecoded
        let findingReasonCodesContainer = try containerValues.decodeIfPresent([LambdaFunctionRecommendationFindingReasonCode].self, forKey: .findingReasonCodes)
        var findingReasonCodesDecoded0:[LambdaFunctionRecommendationFindingReasonCode]? = nil
        if let findingReasonCodesContainer = findingReasonCodesContainer {
            findingReasonCodesDecoded0 = [LambdaFunctionRecommendationFindingReasonCode]()
            for string0 in findingReasonCodesContainer {
                findingReasonCodesDecoded0?.append(string0)
            }
        }
        findingReasonCodes = findingReasonCodesDecoded0
        let memorySizeRecommendationOptionsContainer = try containerValues.decodeIfPresent([LambdaFunctionMemoryRecommendationOption].self, forKey: .memorySizeRecommendationOptions)
        var memorySizeRecommendationOptionsDecoded0:[LambdaFunctionMemoryRecommendationOption]? = nil
        if let memorySizeRecommendationOptionsContainer = memorySizeRecommendationOptionsContainer {
            memorySizeRecommendationOptionsDecoded0 = [LambdaFunctionMemoryRecommendationOption]()
            for structure0 in memorySizeRecommendationOptionsContainer {
                memorySizeRecommendationOptionsDecoded0?.append(structure0)
            }
        }
        memorySizeRecommendationOptions = memorySizeRecommendationOptionsDecoded0
    }
}
