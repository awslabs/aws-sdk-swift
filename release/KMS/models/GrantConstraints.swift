// Code generated by smithy-swift-codegen. DO NOT EDIT!



/// <p>Use this structure to allow <a href="https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations">cryptographic operations</a> in the grant only when the operation request
///       includes the specified <a href="https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context">encryption context</a>. </p>
///          <p>AWS KMS applies the grant constraints only to cryptographic operations that support an
///       encryption context, that is, all cryptographic operations with a <a href="https://docs.aws.amazon.com/kms/latest/developerguide/symm-asymm-concepts.html#symmetric-cmks">symmetric CMK</a>. Grant
///       constraints are not applied to operations that do not support an encryption context, such as
///       cryptographic operations with asymmetric CMKs and management operations, such as <a>DescribeKey</a> or <a>RetireGrant</a>.</p>
///          <important>
///             <p>In a cryptographic operation, the encryption context in the decryption operation must be
///         an exact, case-sensitive match for the keys and values in the encryption context of the
///         encryption operation. Only the order of the pairs can vary.</p>
///             <p>However, in a grant constraint, the key in each key-value pair is not case sensitive,
///         but the value is case sensitive.</p>
///             <p>To avoid confusion, do not use multiple encryption context pairs that differ only by
///         case. To require a fully case-sensitive encryption context, use the
///           <code>kms:EncryptionContext:</code> and <code>kms:EncryptionContextKeys</code> conditions
///         in an IAM or key policy. For details, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/policy-conditions.html#conditions-kms-encryption-context">kms:EncryptionContext:</a> in the <i>
///                   <i>AWS Key Management Service Developer Guide</i>
///                </i>.</p>
///          </important>
public struct GrantConstraints: Equatable {
    /// <p>A list of key-value pairs that must match the encryption context in the <a href="https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations">cryptographic operation</a> request. The grant allows the operation only when the encryption context in the
    ///       request is the same as the encryption context specified in this constraint.</p>
    public let encryptionContextEquals: [String:String]?
    /// <p>A list of key-value pairs that must be included in the encryption context of the
    ///       <a href="https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations">cryptographic operation</a> request. The grant allows the cryptographic operation only when the
    ///       encryption context in the request includes the key-value pairs specified in this constraint,
    ///       although it can include additional key-value pairs.</p>
    public let encryptionContextSubset: [String:String]?

    public init (
        encryptionContextEquals: [String:String]? = nil,
        encryptionContextSubset: [String:String]? = nil
    )
    {
        self.encryptionContextEquals = encryptionContextEquals
        self.encryptionContextSubset = encryptionContextSubset
    }
}

extension GrantConstraints: CustomDebugStringConvertible {
    public var debugDescription: String {
        "GrantConstraints(encryptionContextEquals: \(String(describing: encryptionContextEquals)), encryptionContextSubset: \(String(describing: encryptionContextSubset)))"}
}
