// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension StorageDescriptor: Codable, Reflection {
    enum CodingKeys: String, CodingKey {
        case bucketColumns = "BucketColumns"
        case columns = "Columns"
        case compressed = "Compressed"
        case inputFormat = "InputFormat"
        case location = "Location"
        case numberOfBuckets = "NumberOfBuckets"
        case outputFormat = "OutputFormat"
        case parameters = "Parameters"
        case schemaReference = "SchemaReference"
        case serdeInfo = "SerdeInfo"
        case skewedInfo = "SkewedInfo"
        case sortColumns = "SortColumns"
        case storedAsSubDirectories = "StoredAsSubDirectories"
    }

    public func encode(to encoder: Encoder) throws {
        var encodeContainer = encoder.container(keyedBy: CodingKeys.self)
        if let bucketColumns = bucketColumns {
            var bucketColumnsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .bucketColumns)
            for namestringlist0 in bucketColumns {
                try bucketColumnsContainer.encode(namestringlist0)
            }
        }
        if let columns = columns {
            var columnsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .columns)
            for columnlist0 in columns {
                try columnsContainer.encode(columnlist0)
            }
        }
        if compressed != false {
            try encodeContainer.encode(compressed, forKey: .compressed)
        }
        if let inputFormat = inputFormat {
            try encodeContainer.encode(inputFormat, forKey: .inputFormat)
        }
        if let location = location {
            try encodeContainer.encode(location, forKey: .location)
        }
        if numberOfBuckets != 0 {
            try encodeContainer.encode(numberOfBuckets, forKey: .numberOfBuckets)
        }
        if let outputFormat = outputFormat {
            try encodeContainer.encode(outputFormat, forKey: .outputFormat)
        }
        if let parameters = parameters {
            var parametersContainer = encodeContainer.nestedContainer(keyedBy: Key.self, forKey: .parameters)
            for (dictKey0, parametersmap0) in parameters {
                try parametersContainer.encode(parametersmap0, forKey: Key(stringValue: dictKey0))
            }
        }
        if let schemaReference = schemaReference {
            try encodeContainer.encode(schemaReference, forKey: .schemaReference)
        }
        if let serdeInfo = serdeInfo {
            try encodeContainer.encode(serdeInfo, forKey: .serdeInfo)
        }
        if let skewedInfo = skewedInfo {
            try encodeContainer.encode(skewedInfo, forKey: .skewedInfo)
        }
        if let sortColumns = sortColumns {
            var sortColumnsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .sortColumns)
            for orderlist0 in sortColumns {
                try sortColumnsContainer.encode(orderlist0)
            }
        }
        if storedAsSubDirectories != false {
            try encodeContainer.encode(storedAsSubDirectories, forKey: .storedAsSubDirectories)
        }
    }

    public init (from decoder: Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let columnsContainer = try containerValues.decodeIfPresent([Column].self, forKey: .columns)
        var columnsDecoded0:[Column]? = nil
        if let columnsContainer = columnsContainer {
            columnsDecoded0 = [Column]()
            for structure0 in columnsContainer {
                columnsDecoded0?.append(structure0)
            }
        }
        columns = columnsDecoded0
        let locationDecoded = try containerValues.decodeIfPresent(String.self, forKey: .location)
        location = locationDecoded
        let inputFormatDecoded = try containerValues.decodeIfPresent(String.self, forKey: .inputFormat)
        inputFormat = inputFormatDecoded
        let outputFormatDecoded = try containerValues.decodeIfPresent(String.self, forKey: .outputFormat)
        outputFormat = outputFormatDecoded
        let compressedDecoded = try containerValues.decode(Bool.self, forKey: .compressed)
        compressed = compressedDecoded
        let numberOfBucketsDecoded = try containerValues.decode(Int.self, forKey: .numberOfBuckets)
        numberOfBuckets = numberOfBucketsDecoded
        let serdeInfoDecoded = try containerValues.decodeIfPresent(SerDeInfo.self, forKey: .serdeInfo)
        serdeInfo = serdeInfoDecoded
        let bucketColumnsContainer = try containerValues.decodeIfPresent([String].self, forKey: .bucketColumns)
        var bucketColumnsDecoded0:[String]? = nil
        if let bucketColumnsContainer = bucketColumnsContainer {
            bucketColumnsDecoded0 = [String]()
            for string0 in bucketColumnsContainer {
                bucketColumnsDecoded0?.append(string0)
            }
        }
        bucketColumns = bucketColumnsDecoded0
        let sortColumnsContainer = try containerValues.decodeIfPresent([Order].self, forKey: .sortColumns)
        var sortColumnsDecoded0:[Order]? = nil
        if let sortColumnsContainer = sortColumnsContainer {
            sortColumnsDecoded0 = [Order]()
            for structure0 in sortColumnsContainer {
                sortColumnsDecoded0?.append(structure0)
            }
        }
        sortColumns = sortColumnsDecoded0
        let parametersContainer = try containerValues.decodeIfPresent([String:String].self, forKey: .parameters)
        var parametersDecoded0: [String:String]? = nil
        if let parametersContainer = parametersContainer {
            parametersDecoded0 = [String:String]()
            for (key0, parametersmapvalue0) in parametersContainer {
                parametersDecoded0?[key0] = parametersmapvalue0
            }
        }
        parameters = parametersDecoded0
        let skewedInfoDecoded = try containerValues.decodeIfPresent(SkewedInfo.self, forKey: .skewedInfo)
        skewedInfo = skewedInfoDecoded
        let storedAsSubDirectoriesDecoded = try containerValues.decode(Bool.self, forKey: .storedAsSubDirectories)
        storedAsSubDirectories = storedAsSubDirectoriesDecoded
        let schemaReferenceDecoded = try containerValues.decodeIfPresent(SchemaReference.self, forKey: .schemaReference)
        schemaReference = schemaReferenceDecoded
    }
}
