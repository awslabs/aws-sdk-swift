// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

/// <p>Contains details about the most recent attempt to access the service.</p>
///          <p>This data type is used as a response element in the <a>GetServiceLastAccessedDetails</a> operation.</p>
public struct ServiceLastAccessed: Equatable {
    /// <p>The date and time, in <a href="http://www.iso.org/iso/iso8601">ISO 8601 date-time
    ///             format</a>, when an authenticated entity most recently attempted to access the
    ///          service. AWS does not report unauthenticated requests.</p>
    ///          <p>This field is null if no IAM entities attempted to access the service within the
    ///             <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_access-advisor.html#service-last-accessed-reporting-period">reporting period</a>.</p>
    public let lastAuthenticated: Date?
    /// <p>The ARN of the authenticated entity (user or role) that last attempted to access the
    ///          service. AWS does not report unauthenticated requests.</p>
    ///          <p>This field is null if no IAM entities attempted to access the service within the
    ///             <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_access-advisor.html#service-last-accessed-reporting-period">reporting period</a>.</p>
    public let lastAuthenticatedEntity: String?
    /// <p>The Region from which the authenticated entity (user or role) last attempted to access
    ///          the service. AWS does not report unauthenticated requests.</p>
    ///          <p>This field is null if no IAM entities attempted to access the service within the
    ///             <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_access-advisor.html#service-last-accessed-reporting-period">reporting period</a>.</p>
    public let lastAuthenticatedRegion: String?
    /// <p>The name of the service in which access was attempted.</p>
    public let serviceName: String?
    /// <p>The namespace of the service in which access was attempted.</p>
    ///          <p>To learn the service namespace of a service, see <a href="https://docs.aws.amazon.com/service-authorization/latest/reference/reference_policies_actions-resources-contextkeys.html">Actions, resources, and condition keys for AWS services</a> in the
    ///             <i>Service Authorization Reference</i>. Choose the name of the service to
    ///          view details for that service. In the first paragraph, find the service prefix. For
    ///          example, <code>(service prefix: a4b)</code>. For more information about service namespaces,
    ///          see <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#genref-aws-service-namespaces">AWS
    ///             Service Namespaces</a> in the <i>AWS General Reference</i>.</p>
    public let serviceNamespace: String?
    /// <p>The total number of authenticated principals (root user, IAM users, or IAM roles)
    ///          that have attempted to access the service.</p>
    ///          <p>This field is null if no principals attempted to access the service within the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_access-advisor.html#service-last-accessed-reporting-period">reporting period</a>.</p>
    public let totalAuthenticatedEntities: Int?
    /// <p>An object that contains details about the most recent attempt to access a tracked action
    ///          within the service.</p>
    ///          <p>This field is null if there no tracked actions or if the principal did not use the
    ///          tracked actions within the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_access-advisor.html#service-last-accessed-reporting-period">reporting period</a>. This field is also null if the report was generated at the
    ///          service level and not the action level. For more information, see the
    ///             <code>Granularity</code> field in <a>GenerateServiceLastAccessedDetails</a>.</p>
    public let trackedActionsLastAccessed: [TrackedActionLastAccessed]?

    public init (
        lastAuthenticated: Date? = nil,
        lastAuthenticatedEntity: String? = nil,
        lastAuthenticatedRegion: String? = nil,
        serviceName: String? = nil,
        serviceNamespace: String? = nil,
        totalAuthenticatedEntities: Int? = nil,
        trackedActionsLastAccessed: [TrackedActionLastAccessed]? = nil
    )
    {
        self.lastAuthenticated = lastAuthenticated
        self.lastAuthenticatedEntity = lastAuthenticatedEntity
        self.lastAuthenticatedRegion = lastAuthenticatedRegion
        self.serviceName = serviceName
        self.serviceNamespace = serviceNamespace
        self.totalAuthenticatedEntities = totalAuthenticatedEntities
        self.trackedActionsLastAccessed = trackedActionsLastAccessed
    }
}

extension ServiceLastAccessed: CustomDebugStringConvertible {
    public var debugDescription: String {
        "ServiceLastAccessed(lastAuthenticated: \(String(describing: lastAuthenticated)), lastAuthenticatedEntity: \(String(describing: lastAuthenticatedEntity)), lastAuthenticatedRegion: \(String(describing: lastAuthenticatedRegion)), serviceName: \(String(describing: serviceName)), serviceNamespace: \(String(describing: serviceNamespace)), totalAuthenticatedEntities: \(String(describing: totalAuthenticatedEntities)), trackedActionsLastAccessed: \(String(describing: trackedActionsLastAccessed)))"}
}
