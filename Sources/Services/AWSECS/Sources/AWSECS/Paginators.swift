//
// Copyright Amazon.com Inc. or its affiliates.
// All Rights Reserved.
//
// SPDX-License-Identifier: Apache-2.0
//

// Code generated by smithy-swift-codegen. DO NOT EDIT!

import protocol ClientRuntime.PaginateToken
import struct ClientRuntime.PaginatorSequence

extension ECSClient {
    /// Paginate over `[ListAccountSettingsOutput]` results.
    ///
    /// When this operation is called, an `AsyncSequence` is created. AsyncSequences are lazy so no service
    /// calls are made until the sequence is iterated over. This also means there is no guarantee that the request is valid
    /// until then. If there are errors in your request, you will see the failures only after you start iterating.
    /// - Parameters:
    ///     - input: A `[ListAccountSettingsInput]` to start pagination
    /// - Returns: An `AsyncSequence` that can iterate over `ListAccountSettingsOutput`
    public func listAccountSettingsPaginated(input: ListAccountSettingsInput) -> ClientRuntime.PaginatorSequence<ListAccountSettingsInput, ListAccountSettingsOutput> {
        return ClientRuntime.PaginatorSequence<ListAccountSettingsInput, ListAccountSettingsOutput>(input: input, inputKey: \.nextToken, outputKey: \.nextToken, paginationFunction: self.listAccountSettings(input:))
    }
}

extension ListAccountSettingsInput: ClientRuntime.PaginateToken {
    public func usingPaginationToken(_ token: Swift.String) -> ListAccountSettingsInput {
        return ListAccountSettingsInput(
            effectiveSettings: self.effectiveSettings,
            maxResults: self.maxResults,
            name: self.name,
            nextToken: token,
            principalArn: self.principalArn,
            value: self.value
        )}
}

extension PaginatorSequence where OperationStackInput == ListAccountSettingsInput, OperationStackOutput == ListAccountSettingsOutput {
    /// This paginator transforms the `AsyncSequence` returned by `listAccountSettingsPaginated`
    /// to access the nested member `[ECSClientTypes.Setting]`
    /// - Returns: `[ECSClientTypes.Setting]`
    public func settings() async throws -> [ECSClientTypes.Setting] {
        return try await self.asyncCompactMap { item in item.settings }
    }
}
extension ECSClient {
    /// Paginate over `[ListServicesByNamespaceOutput]` results.
    ///
    /// When this operation is called, an `AsyncSequence` is created. AsyncSequences are lazy so no service
    /// calls are made until the sequence is iterated over. This also means there is no guarantee that the request is valid
    /// until then. If there are errors in your request, you will see the failures only after you start iterating.
    /// - Parameters:
    ///     - input: A `[ListServicesByNamespaceInput]` to start pagination
    /// - Returns: An `AsyncSequence` that can iterate over `ListServicesByNamespaceOutput`
    public func listServicesByNamespacePaginated(input: ListServicesByNamespaceInput) -> ClientRuntime.PaginatorSequence<ListServicesByNamespaceInput, ListServicesByNamespaceOutput> {
        return ClientRuntime.PaginatorSequence<ListServicesByNamespaceInput, ListServicesByNamespaceOutput>(input: input, inputKey: \.nextToken, outputKey: \.nextToken, paginationFunction: self.listServicesByNamespace(input:))
    }
}

extension ListServicesByNamespaceInput: ClientRuntime.PaginateToken {
    public func usingPaginationToken(_ token: Swift.String) -> ListServicesByNamespaceInput {
        return ListServicesByNamespaceInput(
            maxResults: self.maxResults,
            namespace: self.namespace,
            nextToken: token
        )}
}

extension PaginatorSequence where OperationStackInput == ListServicesByNamespaceInput, OperationStackOutput == ListServicesByNamespaceOutput {
    /// This paginator transforms the `AsyncSequence` returned by `listServicesByNamespacePaginated`
    /// to access the nested member `[Swift.String]`
    /// - Returns: `[Swift.String]`
    public func serviceArns() async throws -> [Swift.String] {
        return try await self.asyncCompactMap { item in item.serviceArns }
    }
}
extension ECSClient {
    /// Paginate over `[ListTaskDefinitionFamiliesOutput]` results.
    ///
    /// When this operation is called, an `AsyncSequence` is created. AsyncSequences are lazy so no service
    /// calls are made until the sequence is iterated over. This also means there is no guarantee that the request is valid
    /// until then. If there are errors in your request, you will see the failures only after you start iterating.
    /// - Parameters:
    ///     - input: A `[ListTaskDefinitionFamiliesInput]` to start pagination
    /// - Returns: An `AsyncSequence` that can iterate over `ListTaskDefinitionFamiliesOutput`
    public func listTaskDefinitionFamiliesPaginated(input: ListTaskDefinitionFamiliesInput) -> ClientRuntime.PaginatorSequence<ListTaskDefinitionFamiliesInput, ListTaskDefinitionFamiliesOutput> {
        return ClientRuntime.PaginatorSequence<ListTaskDefinitionFamiliesInput, ListTaskDefinitionFamiliesOutput>(input: input, inputKey: \.nextToken, outputKey: \.nextToken, paginationFunction: self.listTaskDefinitionFamilies(input:))
    }
}

extension ListTaskDefinitionFamiliesInput: ClientRuntime.PaginateToken {
    public func usingPaginationToken(_ token: Swift.String) -> ListTaskDefinitionFamiliesInput {
        return ListTaskDefinitionFamiliesInput(
            familyPrefix: self.familyPrefix,
            maxResults: self.maxResults,
            nextToken: token,
            status: self.status
        )}
}

extension PaginatorSequence where OperationStackInput == ListTaskDefinitionFamiliesInput, OperationStackOutput == ListTaskDefinitionFamiliesOutput {
    /// This paginator transforms the `AsyncSequence` returned by `listTaskDefinitionFamiliesPaginated`
    /// to access the nested member `[Swift.String]`
    /// - Returns: `[Swift.String]`
    public func families() async throws -> [Swift.String] {
        return try await self.asyncCompactMap { item in item.families }
    }
}
